{"ast":null,"code":"import _slicedToArray from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  query showRatings($host_id: ID!) {\\n    showRatings(host_id: $host_id) {\\n      guest {\\n        picture\\n        name\\n      }\\n      message\\n      ratingValue\\n      createdAt\\n    }\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Grid from\"@material-ui/core/Grid\";import Avatar from\"@material-ui/core/Avatar\";import Typography from\"@material-ui/core/Typography\";import{red}from\"@material-ui/core/colors\";import Rating from\"@material-ui/lab/Rating\";import{useHistory}from\"react-router-dom\";import{useMutation,useQuery}from\"@apollo/react-hooks\";import gql from\"graphql-tag\";import{NavLink}from\"react-router-dom\";import Spinner from\"src/Atoms/Spinner\";var HOST_RATINGS=gql(_templateObject());export default function UserCardPlay(props){var classes=useStyles();var history=useHistory();var _React$useState=React.useState(2),_React$useState2=_slicedToArray(_React$useState,2),value=_React$useState2[0],setValue=_React$useState2[1];var _useQuery=useQuery(HOST_RATINGS,{variables:{host_id:props.author._id}}),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data;var SubHeader=function SubHeader(){if(loading){return React.createElement(Spinner,{height:100,width:100});}if(data){var celkem;var arrValues=data.showRatings.map(function(x){return x.ratingValue;});var arrAvg=arrValues.reduce(function(a,b){return a+b;},0)/arrValues.length;return React.createElement(React.Fragment,null,React.createElement(Rating,{name:\"simple-controlled\",readOnly:true,value:arrAvg}));}};return React.createElement(React.Fragment,null,React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:4,className:classes.clickableProfile,onClick:function onClick(){history.push(\"/user/\".concat(props.author._id));}},React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:12},React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true},React.createElement(Avatar,{\"aria-label\":\"recipe\",className:classes.avatar,src:props.author.picture})))),React.createElement(Grid,{item:true,xs:12},React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true},React.createElement(Typography,{variant:\"subtitle2\",className:classes.text},props.author.name)))))),React.createElement(Grid,{item:true,xs:8},React.createElement(Grid,{container:true},React.createElement(Grid,{item:true},React.createElement(SubHeader,null)),React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{variant:\"subtitle2\",className:classes.text},props.author.description))))));}var useStyles=makeStyles(function(theme){return{avatar:{backgroundColor:red[500],// color: \"lightgrey\",\nwidth:70,height:70,boxShadow:'2px 2px 5px rgba(149, 165, 166, 0.5)'},text:{marginTop:10,marginBottom:10},clickableProfile:{cursor:'pointer'}};});","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Molecules/play/UserCardPlay.js"],"names":["React","makeStyles","Grid","Avatar","Typography","red","Rating","useHistory","useMutation","useQuery","gql","NavLink","Spinner","HOST_RATINGS","UserCardPlay","props","classes","useStyles","history","useState","value","setValue","variables","host_id","author","_id","loading","error","data","SubHeader","celkem","arrValues","showRatings","map","x","ratingValue","arrAvg","reduce","a","b","length","clickableProfile","push","avatar","picture","text","name","description","theme","backgroundColor","width","height","boxShadow","marginTop","marginBottom","cursor"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { red } from \"@material-ui/core/colors\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nimport { NavLink } from \"react-router-dom\";\n\nimport Spinner from \"src/Atoms/Spinner\";\n\nconst HOST_RATINGS = gql`\n  query showRatings($host_id: ID!) {\n    showRatings(host_id: $host_id) {\n      guest {\n        picture\n        name\n      }\n      message\n      ratingValue\n      createdAt\n    }\n  }\n`;\n\nexport default function UserCardPlay(props) {\n  const classes = useStyles();\n  let history = useHistory();\n\n  const [value, setValue] = React.useState(2);\n  const { loading, error, data } = useQuery(HOST_RATINGS, {\n    variables: { host_id: props.author._id }\n  });\n\n\n  const SubHeader = () => {\n    if (loading) {\n      return <Spinner height={100} width={100} />;\n    }\n    if (data) {\n      let celkem;\n      let arrValues = data.showRatings.map(x => x.ratingValue);\n      const arrAvg = arrValues.reduce((a, b) => a + b, 0) / arrValues.length;\n      return (\n        <>\n          <Rating name=\"simple-controlled\" readOnly value={arrAvg} />\n        </>\n      );\n    }\n  };\n\n  return (<>\n    <Grid container>\n      <Grid item xs={4} className={classes.clickableProfile} onClick={() => {history.push(`/user/${props.author._id}`)}}>\n      <Grid container>\n        <Grid item xs={12}>\n          <Grid container justify=\"center\">\n            <Grid item>\n              <Avatar\n                  aria-label=\"recipe\"\n                  className={classes.avatar}\n                  src={props.author.picture}\n                />\n            </Grid>\n          </Grid>\n        </Grid>\n\n        <Grid item xs={12}>\n          <Grid container justify=\"center\">\n            <Grid item>\n              <Typography variant=\"subtitle2\" className={classes.text}>\n                    {props.author.name}\n              </Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n          \n      </Grid>\n      <Grid item  xs={8}>\n      <Grid container>\n        <Grid item >\n          <SubHeader />\n        </Grid>\n\n        <Grid item xs={12}>\n          <Typography variant=\"subtitle2\" className={classes.text}>\n              {props.author.description}\n          </Typography>\n        </Grid>\n      </Grid>\n      </Grid>\n    </Grid>\n    {/* <Card className={classes.card}>\n      <CardHeader\n        avatar={\n          <Avatar\n            aria-label=\"recipe\"\n            className={classes.avatar}\n            src={props.author.picture}\n          >\n            <LockOutlinedIcon />\n          </Avatar>\n        }\n        action={\n          <NavLink to={`/user/${props.author._id}`}>\n            <IconButton aria-label=\"settings\">\n              <MoreVertIcon className={classes.dots} />\n            </IconButton>\n          </NavLink>\n        }\n        title={\n          <Typography variant=\"subtitle2\" className={classes.whiteText}>\n            {props.author.name}\n          </Typography>\n        }\n        subheader={\n          <>\n            <SubHeader />\n          </>\n        }\n      />\n    </Card> */}\n    </>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n\n  avatar: {\n    backgroundColor: red[500],\n    // color: \"lightgrey\",\n    width: 70,\n    height: 70,\n    boxShadow: '2px 2px 5px rgba(149, 165, 166, 0.5)'\n  },\n  text: {\n    marginTop: 10,\n    marginBottom: 10,\n  },\n  clickableProfile: {\n    cursor: 'pointer'\n  }\n}));\n"]},"metadata":{},"sourceType":"module"}