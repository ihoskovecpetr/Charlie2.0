{"ast":null,"code":"import _slicedToArray from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  query showMyRatingOfEvent(\\n    $event_id: ID!\\n    $guest_id: ID!\\n  ) {\\n    showMyRatingOfEvent(\\n      event_id: $event_id\\n      guest_id: $guest_id\\n    ) {\\n      success\\n      ratingValue\\n      message\\n    }\\n  }\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  mutation rateEvent(\\n    $event_id: ID!\\n    $host_id: ID!\\n    $guest_id: ID!\\n    $ratingValue: Int!\\n    $message: String\\n  ) {\\n    rateEvent(\\n      event_id: $event_id\\n      host_id: $host_id\\n      guest_id: $guest_id\\n      ratingValue: $ratingValue\\n      message: $message\\n    ) {\\n      success\\n      ratingValue\\n      message\\n    }\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useContext}from\"react\";import{useMutation,useQuery}from\"@apollo/react-hooks\";import{makeStyles}from\"@material-ui/core/styles\";import Grid from\"@material-ui/core/Grid\";import Modal from\"@material-ui/core/Modal\";import Backdrop from\"@material-ui/core/Backdrop\";import Fade from\"@material-ui/core/Fade\";import TextField from\"@material-ui/core/TextField\";import Button from\"@material-ui/core/Button\";import GradeIcon from'@material-ui/icons/Grade';import Chip from'@material-ui/core/Chip';import StarRatingComponent from\"react-star-rating-component\";import{withRouter}from\"react-router-dom\";import gql from\"graphql-tag\";import{EVENT_RATINGS}from\"src/Services/GQL/EVENT_RATINGS\";import{UserContext}from\"src/userContext\";import Spinner from\"src/Atoms/Spinner\";var RATE_EVENT=gql(_templateObject());var MY_RATINGS_OF_EVENT=gql(_templateObject2());function ModalRate(_ref){var event=_ref.event,match=_ref.match;var classes=useStyles();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),open=_useState2[0],setOpen=_useState2[1];var _useState3=useState(\"You rock!\"),_useState4=_slicedToArray(_useState3,2),message=_useState4[0],setMessage=_useState4[1];var _useState5=useState(3),_useState6=_slicedToArray(_useState5,2),stars=_useState6[0],setStars=_useState6[1];var _useContext=useContext(UserContext),context=_useContext.context;var _useMutation=useMutation(RATE_EVENT),_useMutation2=_slicedToArray(_useMutation,2),rateEvent=_useMutation2[0],rateEventState=_useMutation2[1];var _useQuery=useQuery(MY_RATINGS_OF_EVENT,{variables:{event_id:event._id,guest_id:context._id}}),loading=_useQuery.loading,error=_useQuery.error,data=_useQuery.data,refetch=_useQuery.refetch;var handleOpen=function handleOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};// const onStarClick = (nextValue, prevValue, name) => {\n//   setStars(nextValue);\n// };\nvar handleRateEvent=function handleRateEvent(){rateEvent({variables:{event_id:event._id,host_id:event.author._id,guest_id:context._id,ratingValue:stars,message:message},refetchQueries:function refetchQueries(){return[{query:EVENT_RATINGS,variables:{event_id:match.params.id}},{query:MY_RATINGS_OF_EVENT,variables:{event_id:event.id,guest_id:context._id}}];}});};if(rateEventState.data&&rateEventState.data.rateEvent.success){setTimeout(function(){handleClose();},1000);}return React.createElement(Grid,{xs:12},data&&data.showMyRatingOfEvent.length===0&&React.createElement(Chip,{label:\"RATE this event\",icon:React.createElement(GradeIcon,null),color:\"secondary\",className:classes.chipOne,onClick:handleOpen}),data&&data.showMyRatingOfEvent.length!=0&&React.createElement(Chip,{label:\"You already rated this event\",icon:React.createElement(GradeIcon,null),color:\"primary\",disabled:true,className:classes.chipOne,onClick:handleOpen}),React.createElement(Modal,{\"aria-labelledby\":\"transition-modal-title\",\"aria-describedby\":\"transition-modal-description\",className:classes.modal,open:open,onClose:handleClose,closeAfterTransition:true,BackdropComponent:Backdrop,BackdropProps:{timeout:500}},React.createElement(Fade,{in:open},React.createElement(\"div\",{className:classes.paper},rateEventState.loading&&React.createElement(Spinner,{height:100,width:100}),rateEventState.data&&rateEventState.data.rateEvent.success&&React.createElement(\"div\",null,\"Finished, success\"),rateEventState.data&&!rateEventState.data.rateEvent.success&&React.createElement(\"div\",null,\"Finished, FAIL\"),!rateEventState.loading&&!rateEventState.data&&React.createElement(React.Fragment,null,React.createElement(\"h2\",{id:\"transition-modal-title\"},\"Rate host of this event\"),React.createElement(Grid,{container:true,justify:\"center\",alignItems:\"center\",direction:\"column\"},React.createElement(Grid,{item:true},React.createElement(StarRatingComponent,{name:String/* name of the radio input, it is required */,className:classes.starContainer,value:stars/* number of selected icon (`0` - none, `1` - first) */,starCount:5/* number of icons in rating, default `5` */,starColor:\"#E8045D\"/* color of selected icons, default `#ffb400` */,emptyStarColor:\"#999\"/* color of non-selected icons, default `#333` */,editing:true/* is component available for editing, default `true` */,onStarClick:function onStarClick(nextValue,prevValue,name){setStars(nextValue);}})),React.createElement(Grid,{item:true},React.createElement(\"form\",{className:classes.root,noValidate:true,autoComplete:\"off\"},React.createElement(TextField,{id:\"outlined-basic\",label:\"Comment\",variant:\"outlined\",multiline:true,rows:4,value:message,onChange:function onChange(e){setMessage(e.target.value);}})))),React.createElement(Grid,{item:true},React.createElement(Grid,{container:true,spacing:2},React.createElement(Grid,{item:true},React.createElement(Button,{variant:\"contained\",color:\"primary\",onClick:function onClick(e){e.preventDefault();handleClose();}},\"CLOSE\")),React.createElement(Grid,{item:true},React.createElement(Button,{variant:\"contained\",color:\"secondary\",onClick:function onClick(e){e.preventDefault();handleRateEvent();}},\"SEND RATING\")))))))));}var useStyles=makeStyles(function(theme){return{modal:{display:\"flex\",alignItems:\"center\",justifyContent:\"center\"},paper:{backgroundColor:theme.palette.background.paper,border:\"2px solid #000\",boxShadow:theme.shadows[5],padding:theme.spacing(2,4,3)},root:{\"& > *\":{margin:theme.spacing(1),width:200}},starContainer:{fontSize:30},trueBtn:{width:\"100%\",height:60,borderRadius:0},chipOne:{width:\"90%\",fontWeight:500,fontSize:25,padding:20,margin:\"5%\"}};});export default withRouter(ModalRate);","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Molecules/event/ModalRate.js"],"names":["React","useState","useContext","useMutation","useQuery","makeStyles","Grid","Modal","Backdrop","Fade","TextField","Button","GradeIcon","Chip","StarRatingComponent","withRouter","gql","EVENT_RATINGS","UserContext","Spinner","RATE_EVENT","MY_RATINGS_OF_EVENT","ModalRate","event","match","classes","useStyles","open","setOpen","message","setMessage","stars","setStars","context","rateEvent","rateEventState","variables","event_id","_id","guest_id","loading","error","data","refetch","handleOpen","handleClose","handleRateEvent","host_id","author","ratingValue","refetchQueries","query","params","id","success","setTimeout","showMyRatingOfEvent","length","chipOne","modal","timeout","paper","String","starContainer","nextValue","prevValue","name","root","e","target","value","preventDefault","theme","display","alignItems","justifyContent","backgroundColor","palette","background","border","boxShadow","shadows","padding","spacing","margin","width","fontSize","trueBtn","height","borderRadius","fontWeight"],"mappings":"wnCAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,CAAyBC,UAAzB,KAA0C,OAA1C,CACA,OAASC,WAAT,CAAsBC,QAAtB,KAAsC,qBAAtC,CAEA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,KAAP,KAAkB,yBAAlB,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,0BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,mBAAP,KAAgC,6BAAhC,CAEA,OAASC,UAAT,KAA2B,kBAA3B,CACA,MAAOC,CAAAA,GAAP,KAAgB,aAAhB,CAEA,OAASC,aAAT,KAA8B,gCAA9B,CACA,OAASC,WAAT,KAA4B,iBAA5B,CAEA,MAAOC,CAAAA,OAAP,KAAoB,mBAApB,CAEA,GAAMC,CAAAA,UAAU,CAAGJ,GAAH,mBAAhB,CAsBA,GAAMK,CAAAA,mBAAmB,CAAGL,GAAH,oBAAzB,CAgBA,QAASM,CAAAA,SAAT,MAAmC,IAAfC,CAAAA,KAAe,MAAfA,KAAe,CAARC,KAAQ,MAARA,KAAQ,CACjC,GAAMC,CAAAA,OAAO,CAAGC,SAAS,EAAzB,CADiC,cAETzB,QAAQ,CAAC,KAAD,CAFC,wCAE1B0B,IAF0B,eAEpBC,OAFoB,8BAGH3B,QAAQ,CAAC,WAAD,CAHL,yCAG1B4B,OAH0B,eAGjBC,UAHiB,8BAIP7B,QAAQ,CAAC,CAAD,CAJD,yCAI1B8B,KAJ0B,eAInBC,QAJmB,+BAKb9B,UAAU,CAACgB,WAAD,CALG,CAKzBe,OALyB,aAKzBA,OALyB,kBAOG9B,WAAW,CAACiB,UAAD,CAPd,8CAO1Bc,SAP0B,kBAOfC,cAPe,gCAQS/B,QAAQ,CAACiB,mBAAD,CAAsB,CACtEe,SAAS,CAAE,CAAEC,QAAQ,CAAEd,KAAK,CAACe,GAAlB,CACGC,QAAQ,CAAEN,OAAO,CAACK,GADrB,CAD2D,CAAtB,CARjB,CAQzBE,OARyB,WAQzBA,OARyB,CAQhBC,KARgB,WAQhBA,KARgB,CAQTC,IARS,WAQTA,IARS,CAQHC,OARG,WAQHA,OARG,CAYjC,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvBhB,OAAO,CAAC,IAAD,CAAP,CACD,CAFD,CAIA,GAAMiB,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxBjB,OAAO,CAAC,KAAD,CAAP,CACD,CAFD,CAIA;AACA;AACA;AAEA,GAAMkB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BZ,SAAS,CAAC,CACRE,SAAS,CAAE,CACTC,QAAQ,CAAEd,KAAK,CAACe,GADP,CAETS,OAAO,CAAExB,KAAK,CAACyB,MAAN,CAAaV,GAFb,CAGTC,QAAQ,CAAEN,OAAO,CAACK,GAHT,CAITW,WAAW,CAAElB,KAJJ,CAKTF,OAAO,CAAEA,OALA,CADH,CAQRqB,cAAc,CAAE,gCAAM,CACpB,CACEC,KAAK,CAAElC,aADT,CAEEmB,SAAS,CAAE,CAAEC,QAAQ,CAAEb,KAAK,CAAC4B,MAAN,CAAaC,EAAzB,CAFb,CADoB,CAKpB,CACEF,KAAK,CAAE9B,mBADT,CAEEe,SAAS,CAAE,CAAGC,QAAQ,CAAEd,KAAK,CAAC8B,EAAnB,CACGd,QAAQ,CAAEN,OAAO,CAACK,GADrB,CAFb,CALoB,CAAN,EARR,CAAD,CAAT,CAoBD,CArBD,CAwBA,GAAIH,cAAc,CAACO,IAAf,EAAuBP,cAAc,CAACO,IAAf,CAAoBR,SAApB,CAA8BoB,OAAzD,CAAkE,CAChEC,UAAU,CAAC,UAAM,CACfV,WAAW,GACZ,CAFS,CAEP,IAFO,CAAV,CAGD,CAED,MACE,qBAAC,IAAD,EAAM,EAAE,CAAE,EAAV,EACGH,IAAI,EAAIA,IAAI,CAACc,mBAAL,CAAyBC,MAAzB,GAAoC,CAA5C,EAAiD,oBAAC,IAAD,EAChD,KAAK,kBAD2C,CAEhD,IAAI,CAAE,oBAAC,SAAD,MAF0C,CAGhD,KAAK,CAAC,WAH0C,CAIhD,SAAS,CAAEhC,OAAO,CAACiC,OAJ6B,CAKhD,OAAO,CAAEd,UALuC,EADpD,CAQGF,IAAI,EAAIA,IAAI,CAACc,mBAAL,CAAyBC,MAAzB,EAAmC,CAA3C,EAAgD,oBAAC,IAAD,EAC/C,KAAK,+BAD0C,CAE/C,IAAI,CAAE,oBAAC,SAAD,MAFyC,CAG/C,KAAK,CAAC,SAHyC,CAI/C,QAAQ,CAAE,IAJqC,CAK/C,SAAS,CAAEhC,OAAO,CAACiC,OAL4B,CAM/C,OAAO,CAAEd,UANsC,EARnD,CAgBE,oBAAC,KAAD,EACE,kBAAgB,wBADlB,CAEE,mBAAiB,8BAFnB,CAGE,SAAS,CAAEnB,OAAO,CAACkC,KAHrB,CAIE,IAAI,CAAEhC,IAJR,CAKE,OAAO,CAAEkB,WALX,CAME,oBAAoB,KANtB,CAOE,iBAAiB,CAAErC,QAPrB,CAQE,aAAa,CAAE,CACboD,OAAO,CAAE,GADI,CARjB,EAYE,oBAAC,IAAD,EAAM,EAAE,CAAEjC,IAAV,EACE,2BAAK,SAAS,CAAEF,OAAO,CAACoC,KAAxB,EACG1B,cAAc,CAACK,OAAf,EAA0B,oBAAC,OAAD,EAAS,MAAM,CAAE,GAAjB,CAAsB,KAAK,CAAE,GAA7B,EAD7B,CAEGL,cAAc,CAACO,IAAf,EAAuBP,cAAc,CAACO,IAAf,CAAoBR,SAApB,CAA8BoB,OAArD,EACC,mDAHJ,CAKGnB,cAAc,CAACO,IAAf,EAAuB,CAACP,cAAc,CAACO,IAAf,CAAoBR,SAApB,CAA8BoB,OAAtD,EACC,gDANJ,CAQG,CAACnB,cAAc,CAACK,OAAhB,EAA2B,CAACL,cAAc,CAACO,IAA3C,EACC,wCACE,0BAAI,EAAE,CAAC,wBAAP,4BADF,CAEE,oBAAC,IAAD,EACE,SAAS,KADX,CAEE,OAAO,CAAC,QAFV,CAGE,UAAU,CAAC,QAHb,CAIE,SAAS,CAAC,QAJZ,EAME,oBAAC,IAAD,EAAM,IAAI,KAAV,EACE,oBAAC,mBAAD,EACE,IAAI,CACFoB,MACA,6CAHJ,CAIE,SAAS,CAAErC,OAAO,CAACsC,aAJrB,CAKE,KAAK,CACHhC,KACA,uDAPJ,CAQE,SAAS,CAAE,CAAG,4CARhB,CASE,SAAS,CACP,SACA,gDAXJ,CAYE,cAAc,CACZ,MACA,iDAdJ,CAeE,OAAO,CACL,IACA,wDAjBJ,CAkBE,WAAW,CAAE,qBAACiC,SAAD,CAAYC,SAAZ,CAAuBC,IAAvB,CAAgC,CAC3ClC,QAAQ,CAACgC,SAAD,CAAR,CACD,CApBH,EADF,CANF,CA8BE,oBAAC,IAAD,EAAM,IAAI,KAAV,EACE,4BACE,SAAS,CAAEvC,OAAO,CAAC0C,IADrB,CAEE,UAAU,KAFZ,CAGE,YAAY,CAAC,KAHf,EAKE,oBAAC,SAAD,EACE,EAAE,CAAC,gBADL,CAEE,KAAK,CAAC,SAFR,CAGE,OAAO,CAAC,UAHV,CAIE,SAAS,CAAE,IAJb,CAKE,IAAI,CAAE,CALR,CAME,KAAK,CAAEtC,OANT,CAOE,QAAQ,CAAE,kBAAAuC,CAAC,CAAI,CACbtC,UAAU,CAACsC,CAAC,CAACC,MAAF,CAASC,KAAV,CAAV,CACD,CATH,EALF,CADF,CA9BF,CAFF,CAoDE,oBAAC,IAAD,EAAM,IAAI,KAAV,EACE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,OAAO,CAAE,CAAzB,EACE,oBAAC,IAAD,EAAM,IAAI,KAAV,EACE,oBAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,SAFR,CAGE,OAAO,CAAE,iBAAAF,CAAC,CAAI,CACZA,CAAC,CAACG,cAAF,GACA1B,WAAW,GACZ,CANH,UADF,CADF,CAaE,oBAAC,IAAD,EAAM,IAAI,KAAV,EACE,oBAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,WAFR,CAGE,OAAO,CAAE,iBAAAuB,CAAC,CAAI,CACZA,CAAC,CAACG,cAAF,GACAzB,eAAe,GAChB,CANH,gBADF,CAbF,CADF,CApDF,CATJ,CADF,CAZF,CAhBF,CADF,CA8HD,CAED,GAAMpB,CAAAA,SAAS,CAAGrB,UAAU,CAAC,SAAAmE,KAAK,QAAK,CACrCb,KAAK,CAAE,CACLc,OAAO,CAAE,MADJ,CAELC,UAAU,CAAE,QAFP,CAGLC,cAAc,CAAE,QAHX,CAD8B,CAMrCd,KAAK,CAAE,CACLe,eAAe,CAAEJ,KAAK,CAACK,OAAN,CAAcC,UAAd,CAAyBjB,KADrC,CAELkB,MAAM,CAAE,gBAFH,CAGLC,SAAS,CAAER,KAAK,CAACS,OAAN,CAAc,CAAd,CAHN,CAILC,OAAO,CAAEV,KAAK,CAACW,OAAN,CAAc,CAAd,CAAiB,CAAjB,CAAoB,CAApB,CAJJ,CAN8B,CAYrChB,IAAI,CAAE,CACJ,QAAS,CACPiB,MAAM,CAAEZ,KAAK,CAACW,OAAN,CAAc,CAAd,CADD,CAEPE,KAAK,CAAE,GAFA,CADL,CAZ+B,CAkBrCtB,aAAa,CAAE,CACbuB,QAAQ,CAAE,EADG,CAlBsB,CAqBrCC,OAAO,CAAE,CACPF,KAAK,CAAE,MADA,CAEPG,MAAM,CAAE,EAFD,CAGPC,YAAY,CAAE,CAHP,CArB4B,CA0BrC/B,OAAO,CAAE,CACP2B,KAAK,CAAE,KADA,CAEPK,UAAU,CAAE,GAFL,CAGPJ,QAAQ,CAAE,EAHH,CAIPJ,OAAO,CAAE,EAJF,CAKPE,MAAM,CAAE,IALD,CA1B4B,CAAL,EAAN,CAA5B,CAmCA,cAAerE,CAAAA,UAAU,CAACO,SAAD,CAAzB","sourcesContent":["import React, {useState, useContext} from \"react\";\nimport { useMutation, useQuery } from \"@apollo/react-hooks\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Modal from \"@material-ui/core/Modal\";\nimport Backdrop from \"@material-ui/core/Backdrop\";\nimport Fade from \"@material-ui/core/Fade\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Button from \"@material-ui/core/Button\";\nimport GradeIcon from '@material-ui/icons/Grade';\nimport Chip from '@material-ui/core/Chip';\nimport StarRatingComponent from \"react-star-rating-component\";\n\nimport { withRouter } from \"react-router-dom\";\nimport gql from \"graphql-tag\";\n\nimport { EVENT_RATINGS } from \"src/Services/GQL/EVENT_RATINGS\";\nimport { UserContext } from \"src/userContext\";\n\nimport Spinner from \"src/Atoms/Spinner\";\n\nconst RATE_EVENT = gql`\n  mutation rateEvent(\n    $event_id: ID!\n    $host_id: ID!\n    $guest_id: ID!\n    $ratingValue: Int!\n    $message: String\n  ) {\n    rateEvent(\n      event_id: $event_id\n      host_id: $host_id\n      guest_id: $guest_id\n      ratingValue: $ratingValue\n      message: $message\n    ) {\n      success\n      ratingValue\n      message\n    }\n  }\n`;\n\nconst MY_RATINGS_OF_EVENT = gql`\n  query showMyRatingOfEvent(\n    $event_id: ID!\n    $guest_id: ID!\n  ) {\n    showMyRatingOfEvent(\n      event_id: $event_id\n      guest_id: $guest_id\n    ) {\n      success\n      ratingValue\n      message\n    }\n  }\n`;\n\nfunction ModalRate({event, match}) {\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [message, setMessage] = useState(\"You rock!\");\n  const [stars, setStars] = useState(3);\n  const { context } = useContext(UserContext);\n\n  const [rateEvent, rateEventState] = useMutation(RATE_EVENT);\n  const { loading, error, data, refetch } = useQuery(MY_RATINGS_OF_EVENT, {\n    variables: { event_id: event._id,\n                  guest_id: context._id}\n  });\n  const handleOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  // const onStarClick = (nextValue, prevValue, name) => {\n  //   setStars(nextValue);\n  // };\n\n  const handleRateEvent = () => {\n    rateEvent({\n      variables: {\n        event_id: event._id,\n        host_id: event.author._id,\n        guest_id: context._id,\n        ratingValue: stars,\n        message: message\n      },\n      refetchQueries: () => [\n        {\n          query: EVENT_RATINGS,\n          variables: { event_id: match.params.id }\n        },\n        {\n          query: MY_RATINGS_OF_EVENT,\n          variables: {  event_id: event.id,\n                        guest_id: context._id}\n        }\n      ]\n    });\n  }\n\n\n  if (rateEventState.data && rateEventState.data.rateEvent.success) {\n    setTimeout(() => {\n      handleClose();\n    }, 1000);\n  }\n\n  return (\n    <Grid xs={12}>\n      {data && data.showMyRatingOfEvent.length === 0 && <Chip \n        label={`RATE this event`} \n        icon={<GradeIcon />}\n        color=\"secondary\" \n        className={classes.chipOne} \n        onClick={handleOpen}\n          />}\n      {data && data.showMyRatingOfEvent.length != 0 && <Chip \n        label={`You already rated this event`} \n        icon={<GradeIcon />}\n        color=\"primary\" \n        disabled={true}\n        className={classes.chipOne} \n        onClick={handleOpen}\n          />}\n      <Modal\n        aria-labelledby=\"transition-modal-title\"\n        aria-describedby=\"transition-modal-description\"\n        className={classes.modal}\n        open={open}\n        onClose={handleClose}\n        closeAfterTransition\n        BackdropComponent={Backdrop}\n        BackdropProps={{\n          timeout: 500\n        }}\n      >\n        <Fade in={open}>\n          <div className={classes.paper}>\n            {rateEventState.loading && <Spinner height={100} width={100} />}\n            {rateEventState.data && rateEventState.data.rateEvent.success && (\n              <div>Finished, success</div>\n            )}\n            {rateEventState.data && !rateEventState.data.rateEvent.success && (\n              <div>Finished, FAIL</div>\n            )}\n            {!rateEventState.loading && !rateEventState.data && (\n              <>\n                <h2 id=\"transition-modal-title\">Rate host of this event</h2>\n                <Grid\n                  container\n                  justify=\"center\"\n                  alignItems=\"center\"\n                  direction=\"column\"\n                >\n                  <Grid item>\n                    <StarRatingComponent\n                      name={\n                        String\n                      } /* name of the radio input, it is required */\n                      className={classes.starContainer}\n                      value={\n                        stars\n                      } /* number of selected icon (`0` - none, `1` - first) */\n                      starCount={5} /* number of icons in rating, default `5` */\n                      starColor={\n                        \"#E8045D\"\n                      } /* color of selected icons, default `#ffb400` */\n                      emptyStarColor={\n                        \"#999\"\n                      } /* color of non-selected icons, default `#333` */\n                      editing={\n                        true\n                      } /* is component available for editing, default `true` */\n                      onStarClick={(nextValue, prevValue, name) => {\n                        setStars(nextValue);\n                      }}\n                    />\n                  </Grid>\n                  <Grid item>\n                    <form\n                      className={classes.root}\n                      noValidate\n                      autoComplete=\"off\"\n                    >\n                      <TextField\n                        id=\"outlined-basic\"\n                        label=\"Comment\"\n                        variant=\"outlined\"\n                        multiline={true}\n                        rows={4}\n                        value={message}\n                        onChange={e => {\n                          setMessage(e.target.value);\n                        }}\n                      />\n                    </form>\n                  </Grid>\n                </Grid>\n                <Grid item>\n                  <Grid container spacing={2}>\n                    <Grid item>\n                      <Button\n                        variant=\"contained\"\n                        color=\"primary\"\n                        onClick={e => {\n                          e.preventDefault();\n                          handleClose();\n                        }}\n                      >\n                        CLOSE\n                      </Button>\n                    </Grid>\n                    <Grid item>\n                      <Button\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        onClick={e => {\n                          e.preventDefault();\n                          handleRateEvent()\n                        }}\n                        >\n                          SEND RATING\n                        </Button>\n                    </Grid>\n                  </Grid>\n                </Grid>\n              </>\n            )}\n          </div>\n        </Fade>\n      </Modal>\n    </Grid>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  modal: {\n    display: \"flex\",\n    alignItems: \"center\",\n    justifyContent: \"center\"\n  },\n  paper: {\n    backgroundColor: theme.palette.background.paper,\n    border: \"2px solid #000\",\n    boxShadow: theme.shadows[5],\n    padding: theme.spacing(2, 4, 3)\n  },\n  root: {\n    \"& > *\": {\n      margin: theme.spacing(1),\n      width: 200\n    }\n  },\n  starContainer: {\n    fontSize: 30\n  },\n  trueBtn: {\n    width: \"100%\",\n    height: 60,\n    borderRadius: 0\n  },\n  chipOne: {\n    width: \"90%\", \n    fontWeight: 500, \n    fontSize: 25, \n    padding: 20, \n    margin: \"5%\"\n  },\n}));\n\nexport default withRouter(ModalRate);\n"]},"metadata":{},"sourceType":"module"}