{"ast":null,"code":"import _defineProperty from \"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React, { useState, useMemo, useEffect } from \"react\";\nimport \"./App.css\";\nimport { Switch, Route, NavLink, Redirect, useHistory, BrowserRouter as Router } from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { useXsSize } from \"./Hooks/useXsSize\";\nimport UpperStripe from \"./Atoms/UpperStripe\";\nimport DrawerContent from \"./Atoms/UpperStripeAndDrawer/DrawerContent\";\nimport WindowEventSnackbar from \"./Atoms/WindowEventSnackbar\";\nimport { UserContext } from \"./userContext\";\nimport { usePosition } from \"./Hooks/useGeolocation\";\nimport { LOGIN } from \"src/Services/GQL/LOGIN\"; // import { useWindowSize } from \"./Hooks/useWindowSize\";\n\nimport Menu from \"./Pages/Menu\";\nimport SignIn from \"./Pages/SignIn\";\nimport SignUp from \"./Pages/SignUp\";\nimport SignOut from \"./Pages/SignOut\";\nimport Create from \"./Pages/Create\";\nimport MapWrap from \"./Pages/MapWrap\";\nimport Event from \"./Pages/Event\";\nimport Profile from \"./Pages/Profile\";\nimport About from \"./Pages/About\";\nimport UserModal from \"./Pages/UserModal\";\nimport Play from \"./Pages/Play\";\nimport PlayOutside from \"./Pages/PlayOutside\";\nimport AcceptPage from \"./Pages/AcceptPage\";\nimport Search from \"./Pages/SearchPage\";\nimport Privacy from \"./Pages/PrivacyPage\";\nimport FloatingBtnWrap from \"./Molecules/FloatingBtnWrap\";\nconst drawerWidth = 240;\nlet prevLocation;\n\nfunction App({\n  location,\n  container\n}) {\n  let history = useHistory();\n\n  const _useXsSize = useXsSize(),\n        md_size_memo = _useXsSize.md_size_memo;\n\n  console.log(\"App.js rErEnDeR, conteiner: \", location, container);\n\n  const _usePosition = usePosition(),\n        latitude = _usePosition.latitude,\n        longitude = _usePosition.longitude,\n        address = _usePosition.address,\n        err = _usePosition.err;\n\n  const _useState = useState(false),\n        _useState2 = _slicedToArray(_useState, 2),\n        mobileOpen = _useState2[0],\n        setMobileOpen = _useState2[1];\n\n  const _useState3 = useState(false),\n        _useState4 = _slicedToArray(_useState3, 2),\n        finishedAnimation = _useState4[0],\n        setFinishedAnimation = _useState4[1];\n\n  const _useState5 = useState({\n    firstPrint: false,\n    Modal: false,\n    justGoBack: false\n  }),\n        _useState6 = _slicedToArray(_useState5, 2),\n        routerState = _useState6[0],\n        setRouterState = _useState6[1];\n\n  const _useState7 = useState({\n    date: new Date().toISOString().split(\"T\")[0],\n    geometry: null,\n    zoom: 10\n  }),\n        _useState8 = _slicedToArray(_useState7, 2),\n        workingPosition = _useState8[0],\n        setWorkingPosition = _useState8[1];\n\n  const _useMutation = useMutation(LOGIN),\n        _useMutation2 = _slicedToArray(_useMutation, 2),\n        getLoggedInUser = _useMutation2[0],\n        _useMutation2$ = _useMutation2[1],\n        loading = _useMutation2$.loading,\n        error = _useMutation2$.error,\n        data = _useMutation2$.data; //Overriding default styles in Material UI\n\n\n  const theme = createMuiTheme({\n    overrides: {\n      MuiTab: {\n        root: {\n          color: md_size_memo ? 'white !important' : 'black !important',\n          fontWeight: 600\n        }\n      },\n      PrivateTabIndicator: {\n        root: {\n          backgroundColor: 'grey !important'\n        }\n      }\n    },\n    palette: {\n      violetova: \"#600328\",\n      darkGrey: \"#242323\",\n      charliePink: \"#E8045D\",\n      contrastThreshold: 3,\n      // Used to shift a color's luminance by approximately\n      // two indexes within its tonal palette.\n      // E.g., shift from Red 500 to Red 300 or Red 700.\n      tonalOffset: 0.2,\n      success: {\n        main: \"#E8045D\"\n      },\n      info: {\n        main: \"#600328\"\n      },\n      warning: {\n        main: \"#242323\"\n      }\n    }\n  });\n  const useStyles = makeStyles(theme => ({\n    drawer: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: 0,\n        flexShrink: 0\n      }\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n      width: drawerWidth\n    },\n    content: {\n      height: \"100vh\",\n      // height: `${1*windowSize.height}px`,\n      position: location.pathname.split(\"/\")[1] === \"map\" ? \"fixed\" : null,\n      width: \"100%\",\n      backgroundColor: \"#F8F8F8\" // overflow: \"scroll\"\n\n    }\n  }));\n  const classes = useStyles();\n  console.log(\"Rerendering whole App workpos: \", workingPosition);\n\n  const _useState9 = useState({\n    success: false,\n    name: false,\n    _id: null,\n    email: null,\n    picture: null,\n    description: null,\n    geolocationObj: null,\n    curPositionAddress: null,\n    countUnseenBookings: 0,\n    countUnseenRatings: 0,\n    getLoggedInUser: () => getLoggedInUser(),\n    setUserToContext: () => setUserToContext(),\n    deleteToken: () => window.localStorage.setItem(\"token\", \"_deleted_\"),\n    openDrawer: true,\n    freezScroll: false,\n    rememberSignIn: false,\n    expanded_id: null,\n    playFilterObj: {\n      filterOn: true,\n      geolocationPlay: null,\n      playEventsCount: null,\n      radius: 20,\n      plusDays: 2,\n      shownEvents: []\n    } // playEventsCount: null,\n    // shownEvents: [],\n    // radius: 20,\n    // plusDays: 2,\n    // firstPrint: location.pathname.split(\"/\")[1] === \"play\" ? true : false\n\n  }),\n        _useState10 = _slicedToArray(_useState9, 2),\n        contx = _useState10[0],\n        setContx = _useState10[1];\n\n  const setUserToContext = userObj => {\n    console.log(\"setUserToContext: \", userObj);\n\n    if (userObj) {\n      setContx(prev => {\n        return _objectSpread({}, prev, {\n          _id: userObj._id,\n          success: userObj.success,\n          name: userObj.name,\n          email: userObj.email,\n          picture: userObj.picture,\n          description: userObj.description\n        });\n      });\n    }\n  }; // useEffect(() => {\n  //   // getLoggedInUser();\n  //   navigator.geolocation.getCurrentPosition(function(position) {\n  //     console.log(\"Found lokaci: \", position.coords.latitude)\n  //     setContext(prev => {return {...prev, geolocationObj: {lat: position.coords.latitude, lng: position.coords.longitude}}});\n  // });\n  // });\n\n\n  useEffect(() => {\n    // getLoggedInUser();\n    if (location.pathname.split(\"/\")[1] === \"play\" && !window.firstPrintPlay) {\n      window.firstPrintPlay = \"play\";\n    } else {\n      window.firstPrintPlay = \"else\";\n    }\n  }, [location.pathname]);\n  useEffect(() => {\n    getLoggedInUser();\n    prevLocation = location; // firstLocation = location.pathname.split(\"/\")[1];\n    // if(location.pathname.split(\"/\")[1] === \"play\"){\n    //   console.log(\"Setting FPnt: true\")\n    //   setUser(prev => {\n    //   return { ...prev, firstPrint: true };\n    // });\n    // }\n  }, []);\n  useEffect(() => {\n    window.addEventListener(\"beforeunload\", ev => {\n      ev.preventDefault();\n\n      if (!contx.rememberSignIn) {\n        window.localStorage.setItem(\"token\", \"_deleted_COZ_notrembr\".concat(contx.rememberSignIn));\n      }\n    }); // window.localStorage.setItem(\"token\", contx.token)\n    // return(() => {\n    //   console.log(\"NIKDY GOING OUT APP\")\n    //   if(!contx.rememberSignIn){\n    //     window.localStorage.setItem(\"token\", \"_deleted_COZ_notrembr\")\n    //   }\n    // })\n    // return(function cleanup() {\n    //   window.localStorage.setItem(\"token\", \"cleanedUped\")\n    // };)\n  }, []); // if (data) {\n\n  useEffect(() => {\n    if (data && data.getLoggedInUser) {\n      // setContx(prev => {return {\n      //   ...prev,\n      //   _id: data.getLoggedInUser._id,\n      //   success: data.getLoggedInUser.success,\n      //   name: data.getLoggedInUser.name,\n      //   email: data.getLoggedInUser.email,\n      //   picture: data.getLoggedInUser.picture,\n      //   description: data.getLoggedInUser.description,\n      // }});\n      console.log(\"Calling setUserToContext from App\");\n      setUserToContext(data.getLoggedInUser);\n    }\n  }, [data]); // }\n\n  useEffect(() => {\n    if (latitude && longitude && !contx.geolocationObj) {\n      console.log(\"Context. setting Geolocation Obj: \", latitude, longitude);\n      setContx(prev => {\n        return _objectSpread({}, prev, {\n          geolocationObj: {\n            lat: latitude,\n            lng: longitude\n          },\n          playFilterObj: _objectSpread({}, prev.playFilterObj, {\n            geolocationPlay: {\n              lat: latitude,\n              lng: longitude\n            }\n          })\n        });\n      });\n    }\n  }, [latitude, longitude]);\n  useEffect(() => {\n    if (!contx.curPositionAddress) {\n      console.log(\"Context. setting ADDRESS: \", address);\n      setContx(prev => {\n        return _objectSpread({}, prev, {\n          curPositionAddress: address\n        });\n      });\n    }\n  }, [address]);\n  const providerValue = useMemo(() => {\n    let context = contx;\n    let setContext = setContx;\n    return {\n      context,\n      setContext\n    };\n  }, [contx, setContx]);\n\n  const handleDrawerToggle = () => {\n    if (!window.eventId) {\n      setMobileOpen(!mobileOpen);\n    }\n  };\n\n  const ListOfUrls = contx.success ? [\"\", \"play\", \"create\", \"map\", \"about\", \"search\", \"privacy-policy\", \"signout\", \"user\", \"profile\", \"accept\"] : [\"\", \"play\", \"create\", \"map\", \"about\", \"search\", \"privacy-policy\", \"signin\", \"user\", \"signup\", \"accept\"]; // Just for DRAWER and NavigationHeader (UpperStripe)\n\n  const ListOfNames = contx.success ? [\"Charlie\", \"Play\", \"Create\", \"Map\", \"About\", \"Sign Out\"] : [\"Charlie\", \"Play\", \"Create\", \"Map\", \"About\", \"Sign In\"];\n  const ListOfComponents = contx.success ? [React.createElement(Menu, {\n    ListOfNames: ListOfNames,\n    ListOfUrls: ListOfUrls,\n    finishedAnimation: finishedAnimation,\n    setFinishedAnimation: setFinishedAnimation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 313\n    },\n    __self: this\n  }), React.createElement(Play, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 319\n    },\n    __self: this\n  }), React.createElement(Create, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 320\n    },\n    __self: this\n  }), //create\n  React.createElement(MapWrap, {\n    workingPosition: workingPosition,\n    setWorkingPosition: setWorkingPosition,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 321\n    },\n    __self: this\n  }), //Map\n  React.createElement(About, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 325\n    },\n    __self: this\n  }), React.createElement(Search, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 326\n    },\n    __self: this\n  }), React.createElement(Privacy, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 327\n    },\n    __self: this\n  }), React.createElement(SignOut, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 328\n    },\n    __self: this\n  }), React.createElement(UserModal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 329\n    },\n    __self: this\n  }), React.createElement(Profile, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 330\n    },\n    __self: this\n  })] : [React.createElement(Menu, {\n    ListOfNames: ListOfNames,\n    ListOfUrls: ListOfUrls,\n    finishedAnimation: finishedAnimation,\n    setFinishedAnimation: setFinishedAnimation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 333\n    },\n    __self: this\n  }), React.createElement(Play, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 339\n    },\n    __self: this\n  }), React.createElement(Create, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340\n    },\n    __self: this\n  }), React.createElement(MapWrap, {\n    workingPosition: workingPosition,\n    setWorkingPosition: setWorkingPosition,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341\n    },\n    __self: this\n  }), React.createElement(About, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345\n    },\n    __self: this\n  }), React.createElement(Search, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 346\n    },\n    __self: this\n  }), React.createElement(Privacy, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 347\n    },\n    __self: this\n  }), React.createElement(SignIn, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 348\n    },\n    __self: this\n  }), React.createElement(UserModal, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349\n    },\n    __self: this\n  }), React.createElement(SignUp, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350\n    },\n    __self: this\n  })];\n\n  const returnComponent = index => {\n    return React.createElement(React.Fragment, null, React.createElement(CssBaseline, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355\n      },\n      __self: this\n    }), ListOfComponents[index]);\n  };\n\n  let firstPrint = false;\n  let Modal = false;\n  let justGoBack = false;\n  useEffect(() => {\n    console.log(\"App Location props rerendered: \", location);\n    firstPrint = false;\n    Modal = false;\n    justGoBack = false;\n    var pathSet = location.pathname.split(\"/\");\n\n    if (pathSet[1] == \"event\" || pathSet[1] == \"user\" || pathSet[1] == \"signin\" || pathSet[1] == \"signout\") {\n      Modal = true;\n    }\n\n    if (!Modal) {\n      prevLocation = location;\n    }\n\n    if (prevLocation == location) {\n      firstPrint = true;\n    }\n\n    if (location && location.state && location.state.justGoBack == true) {\n      justGoBack = true;\n    }\n\n    console.log(\"Modal, justGoBack, firstPrint \", Modal, justGoBack, firstPrint);\n    console.log(\" PrevLocation, location \", prevLocation, location);\n    setRouterState({\n      Modal: Modal,\n      justGoBack: justGoBack,\n      firstPrint: firstPrint\n    });\n  }, [location]);\n  return React.createElement(ThemeProvider, {\n    theme: theme,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410\n    },\n    __self: this\n  }, React.createElement(UserContext.Provider, {\n    value: providerValue,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 411\n    },\n    __self: this\n  }, React.createElement(React.Fragment, null, React.createElement(Hidden, {\n    smUp: true,\n    implementation: \"css\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 414\n    },\n    __self: this\n  }, React.createElement(Drawer, {\n    container: container,\n    variant: \"temporary\",\n    anchor: theme.direction === \"rtl\" ? \"right\" : \"left\",\n    open: mobileOpen,\n    onClose: handleDrawerToggle,\n    classes: {\n      paper: classes.drawerPaper\n    },\n    ModalProps: {\n      keepMounted: true // Better open performance on mobile.\n\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 415\n    },\n    __self: this\n  }, React.createElement(DrawerContent, {\n    ListOfNames: ListOfNames,\n    ListOfUrls: ListOfUrls,\n    handleDrawerToggle: handleDrawerToggle,\n    drawerWidth: drawerWidth,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 428\n    },\n    __self: this\n  }))), React.createElement(WindowEventSnackbar, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437\n    },\n    __self: this\n  })), routerState.firstPrint && routerState.Modal && React.createElement(React.Fragment, null, React.createElement(Route, {\n    exact: true,\n    path: \"/event/:id\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe //bringOwnUser?? true??\n    , {\n      loading: loading,\n      userApp: false,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 447\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 456\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 457\n      },\n      __self: this\n    }), React.createElement(Event, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 458\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/user/:id\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe //bringOwnUser?? true??\n    , {\n      loading: loading,\n      userApp: false,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 468\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 477\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 478\n      },\n      __self: this\n    }), React.createElement(UserModal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 479\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe //bringOwnUser?? true??\n    , {\n      loading: loading,\n      userApp: false,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 489\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 498\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 499\n      },\n      __self: this\n    }), React.createElement(SignIn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 500\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 484\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/signout\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe //bringOwnUser?? true??\n    , {\n      loading: loading,\n      userApp: false,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 510\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 519\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 520\n      },\n      __self: this\n    }), React.createElement(SignOut, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 521\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505\n    },\n    __self: this\n  })), !routerState.firstPrint && routerState.Modal && React.createElement(React.Fragment, null, React.createElement(Route, {\n    exact: true,\n    path: \"/event/:id\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(Event, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 535\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 530\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/user/:id\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UserModal, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 544\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 539\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/signin\",\n    render: () => {\n      return React.createElement(React.Fragment, null, React.createElement(SignIn, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 554\n        },\n        __self: this\n      }));\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 548\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/signout\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(SignOut, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 564\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 559\n    },\n    __self: this\n  }), React.createElement(Switch, {\n    location: prevLocation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 569\n    },\n    __self: this\n  }, ListOfUrls.map((text, index) => React.createElement(Route, {\n    exact: true,\n    path: \"/\".concat(text),\n    key: index,\n    render: () => React.createElement(React.Fragment, null, text != \"play\" && React.createElement(UpperStripe, {\n      loading: loading,\n      userApp: contx,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 577\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 586\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 587\n      },\n      __self: this\n    }), returnComponent(index))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 571\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/\",\n    key: \"xc\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe, {\n      loading: loading,\n      userApp: contx,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 600\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 608\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 609\n      },\n      __self: this\n    }), React.createElement(Menu, {\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 610\n      },\n      __self: this\n    }), \",\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 595\n    },\n    __self: this\n  }))), !routerState.Modal && window.firstPrintPlay != \"play\" && React.createElement(React.Fragment, null, React.createElement(Switch, {\n    location: prevLocation,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 624\n    },\n    __self: this\n  }, React.createElement(Route, {\n    exact: true,\n    path: \"/map\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe, {\n      loading: loading,\n      userApp: contx,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 630\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 638\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 639\n      },\n      __self: this\n    }), contx.name ? React.createElement(MapWrap, {\n      workingPosition: workingPosition,\n      setWorkingPosition: setWorkingPosition,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 640\n      },\n      __self: this\n    }) : React.createElement(SignIn, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 643\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 625\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/play/:id\",\n    key: \"index\",\n    render: () => React.createElement(React.Fragment, null, window.firstPrintPlay != \"play\" && React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 655\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 656\n      },\n      __self: this\n    }), returnComponent(1)), \")\"),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 648\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/play\",\n    key: \"index\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 670\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 671\n      },\n      __self: this\n    }), returnComponent(1))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 664\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/event/:id\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 682\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 683\n      },\n      __self: this\n    }), React.createElement(Event, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 684\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 677\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/accept/:event_id/:user_id\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe, {\n      loading: loading,\n      userApp: contx,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 694\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 702\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 703\n      },\n      __self: this\n    }), React.createElement(AcceptPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 704\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 689\n    },\n    __self: this\n  }), ListOfUrls.map((text, index) => React.createElement(Route, {\n    exact: true,\n    path: \"/\".concat(text),\n    key: index,\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe, {\n      loading: loading,\n      userApp: contx,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 716\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 724\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 725\n      },\n      __self: this\n    }), returnComponent(index))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 710\n    },\n    __self: this\n  })), React.createElement(Route, {\n    path: \"/\",\n    key: \"xc\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(UpperStripe, {\n      loading: loading,\n      userApp: contx,\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      handleDrawerToggle: handleDrawerToggle,\n      drawerWidth: drawerWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 737\n      },\n      __self: this\n    }), React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 745\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 746\n      },\n      __self: this\n    }), React.createElement(Menu, {\n      ListOfNames: ListOfNames,\n      ListOfUrls: ListOfUrls,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 747\n      },\n      __self: this\n    }), \",\")),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 732\n    },\n    __self: this\n  })), React.createElement(FloatingBtnWrap, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 757\n    },\n    __self: this\n  })), !routerState.Modal && window.firstPrintPlay === \"play\" && React.createElement(React.Fragment, null, React.createElement(Route, {\n    exact: true,\n    path: \"/play/:id\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 776\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 777\n      },\n      __self: this\n    }), React.createElement(PlayOutside, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 778\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 762\n    },\n    __self: this\n  }), React.createElement(Route, {\n    exact: true,\n    path: \"/play\",\n    render: () => React.createElement(React.Fragment, null, React.createElement(\"main\", {\n      className: classes.content,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 797\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: classes.toolbar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 798\n      },\n      __self: this\n    }), React.createElement(Play, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 799\n      },\n      __self: this\n    }))),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 783\n    },\n    __self: this\n  }))));\n}\n\nApp.propTypes = {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  container: PropTypes.instanceOf(typeof Element === \"undefined\" ? Object : Element)\n};\n\nfunction AppWrap() {\n  return React.createElement(Router, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 824\n    },\n    __self: this\n  }, React.createElement(Route, {\n    component: props2 => React.createElement(App, Object.assign({}, props2, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 825\n      },\n      __self: this\n    })),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 825\n    },\n    __self: this\n  }));\n}\n\nexport default AppWrap;","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/App.js"],"names":["React","useState","useMemo","useEffect","Switch","Route","NavLink","Redirect","useHistory","BrowserRouter","Router","PropTypes","Drawer","Hidden","CssBaseline","Snackbar","CloseIcon","Button","IconButton","makeStyles","createMuiTheme","ThemeProvider","gql","useMutation","useXsSize","UpperStripe","DrawerContent","WindowEventSnackbar","UserContext","usePosition","LOGIN","Menu","SignIn","SignUp","SignOut","Create","MapWrap","Event","Profile","About","UserModal","Play","PlayOutside","AcceptPage","Search","Privacy","FloatingBtnWrap","drawerWidth","prevLocation","App","location","container","history","md_size_memo","console","log","latitude","longitude","address","err","mobileOpen","setMobileOpen","finishedAnimation","setFinishedAnimation","firstPrint","Modal","justGoBack","routerState","setRouterState","date","Date","toISOString","split","geometry","zoom","workingPosition","setWorkingPosition","getLoggedInUser","loading","error","data","theme","overrides","MuiTab","root","color","fontWeight","PrivateTabIndicator","backgroundColor","palette","violetova","darkGrey","charliePink","contrastThreshold","tonalOffset","success","main","info","warning","useStyles","drawer","breakpoints","up","width","flexShrink","toolbar","mixins","drawerPaper","content","height","position","pathname","classes","name","_id","email","picture","description","geolocationObj","curPositionAddress","countUnseenBookings","countUnseenRatings","setUserToContext","deleteToken","window","localStorage","setItem","openDrawer","freezScroll","rememberSignIn","expanded_id","playFilterObj","filterOn","geolocationPlay","playEventsCount","radius","plusDays","shownEvents","contx","setContx","userObj","prev","firstPrintPlay","addEventListener","ev","preventDefault","lat","lng","providerValue","context","setContext","handleDrawerToggle","eventId","ListOfUrls","ListOfNames","ListOfComponents","returnComponent","index","pathSet","state","direction","paper","keepMounted","map","text","propTypes","instanceOf","Element","Object","AppWrap","props2"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useEffect } from \"react\";\nimport \"./App.css\";\nimport {\n  Switch,\n  Route,\n  NavLink,\n  Redirect,\n  useHistory,\n  BrowserRouter as Router\n} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\n\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { useXsSize } from \"./Hooks/useXsSize\";\n\nimport UpperStripe from \"./Atoms/UpperStripe\";\nimport DrawerContent from \"./Atoms/UpperStripeAndDrawer/DrawerContent\";\nimport WindowEventSnackbar from \"./Atoms/WindowEventSnackbar\";\n\nimport { UserContext } from \"./userContext\";\nimport { usePosition } from \"./Hooks/useGeolocation\";\nimport { LOGIN } from \"src/Services/GQL/LOGIN\";\n\n// import { useWindowSize } from \"./Hooks/useWindowSize\";\n\nimport Menu from \"./Pages/Menu\";\nimport SignIn from \"./Pages/SignIn\";\nimport SignUp from \"./Pages/SignUp\";\nimport SignOut from \"./Pages/SignOut\";\nimport Create from \"./Pages/Create\";\nimport MapWrap from \"./Pages/MapWrap\";\nimport Event from \"./Pages/Event\";\nimport Profile from \"./Pages/Profile\";\nimport About from \"./Pages/About\";\nimport UserModal from \"./Pages/UserModal\";\nimport Play from \"./Pages/Play\";\nimport PlayOutside from \"./Pages/PlayOutside\";\nimport AcceptPage from \"./Pages/AcceptPage\"\nimport Search from \"./Pages/SearchPage\"\nimport Privacy from \"./Pages/PrivacyPage\"\nimport FloatingBtnWrap from \"./Molecules/FloatingBtnWrap\";\n\n\nconst drawerWidth = 240;\nlet prevLocation;\n\nfunction App({location, container}) {\n  let history = useHistory();\n  const { md_size_memo } = useXsSize();\n  console.log(\"App.js rErEnDeR, conteiner: \", location, container)\n  const { latitude, longitude, address, err } = usePosition();\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [finishedAnimation, setFinishedAnimation] = useState(false);\n  const [routerState, setRouterState] = useState({ \n    firstPrint: false,\n    Modal: false,\n    justGoBack: false\n  });\n  const [workingPosition, setWorkingPosition] = useState({\n    date: new Date().toISOString().split(\"T\")[0],\n    geometry: null,\n    zoom: 10,\n  });\n  const [getLoggedInUser, { loading, error, data }] = useMutation(LOGIN);\n\n  //Overriding default styles in Material UI\n  const theme = createMuiTheme({\n    overrides: {\n      MuiTab: {\n        root: {\n          color: md_size_memo ? 'white !important' : 'black !important',\n          fontWeight: 600\n        },\n      },\n      PrivateTabIndicator: {\n        root: {\n          backgroundColor: 'grey !important',\n        },\n      },\n    },\n    palette: {\n      violetova: \"#600328\",\n      darkGrey: \"#242323\",\n      charliePink: \"#E8045D\",\n      contrastThreshold: 3,\n      // Used to shift a color's luminance by approximately\n      // two indexes within its tonal palette.\n      // E.g., shift from Red 500 to Red 300 or Red 700.\n      tonalOffset: 0.2,\n      success: {\n        main: \"#E8045D\"\n      },\n      info: {\n        main: \"#600328\"\n      },\n      warning: {\n        main: \"#242323\"\n      }\n    }\n  });\n\n  const useStyles = makeStyles(theme => ({\n\n    drawer: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: 0,\n        flexShrink: 0\n      }\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n      width: drawerWidth\n    },\n    content: {\n      height: \"100vh\",\n      // height: `${1*windowSize.height}px`,\n      position: location.pathname.split(\"/\")[1] === \"map\" ? \"fixed\" : null,\n      width: \"100%\",\n      backgroundColor: \"#F8F8F8\",\n      // overflow: \"scroll\"\n    }\n  }));\n\n  const classes = useStyles();\n\n  console.log(\"Rerendering whole App workpos: \", workingPosition);\n\n  const [contx, setContx] = useState({\n    success: false,\n    name: false,\n    _id: null,\n    email: null,\n    picture: null,\n    description: null,\n    geolocationObj: null,\n    curPositionAddress: null,\n    countUnseenBookings: 0,\n    countUnseenRatings: 0,\n    getLoggedInUser: () => getLoggedInUser(),\n    setUserToContext: () => setUserToContext(),\n    deleteToken: () => window.localStorage.setItem(\"token\", \"_deleted_\"),\n\n    openDrawer: true,\n    freezScroll: false,\n    rememberSignIn: false,\n    expanded_id: null,\n    playFilterObj: {\n      filterOn: true,\n      geolocationPlay: null,\n      playEventsCount: null,\n      radius: 20,\n      plusDays: 2,\n      shownEvents: [],\n    },  \n    // playEventsCount: null,\n    // shownEvents: [],\n    // radius: 20,\n    // plusDays: 2,\n    // firstPrint: location.pathname.split(\"/\")[1] === \"play\" ? true : false\n  });\n\n  const setUserToContext = (userObj) => {\nconsole.log(\"setUserToContext: \", userObj)\nif(userObj){\n      setContx(prev => {return {\n      ...prev,\n      _id: userObj._id,\n      success: userObj.success,\n      name: userObj.name,\n      email: userObj.email,\n      picture: userObj.picture,\n      description: userObj.description,\n    }}\n    );\n}\n\n  }\n\n  // useEffect(() => {\n  //   // getLoggedInUser();\n  //   navigator.geolocation.getCurrentPosition(function(position) {\n  //     console.log(\"Found lokaci: \", position.coords.latitude)\n  //     setContext(prev => {return {...prev, geolocationObj: {lat: position.coords.latitude, lng: position.coords.longitude}}});\n  // });\n  // });\n\n  useEffect(() => {\n    // getLoggedInUser();\n    if(location.pathname.split(\"/\")[1] === \"play\" && !window.firstPrintPlay){\n      window.firstPrintPlay = \"play\"\n    }else{\n      window.firstPrintPlay = \"else\"\n    }\n  }, [location.pathname]);\n\n  useEffect(() => {\n\n    getLoggedInUser();\n    prevLocation = location;\n    // firstLocation = location.pathname.split(\"/\")[1];\n    // if(location.pathname.split(\"/\")[1] === \"play\"){\n    //   console.log(\"Setting FPnt: true\")\n    //   setUser(prev => {\n    //   return { ...prev, firstPrint: true };\n    // });\n    // }\n\n  }, []);\n\n  useEffect(() => {\n\n      window.addEventListener(\"beforeunload\", (ev) => \n    {  \n      ev.preventDefault();\n      if(!contx.rememberSignIn){\n        window.localStorage.setItem(\"token\", `_deleted_COZ_notrembr${contx.rememberSignIn}`)\n      }\n    });\n\n    // window.localStorage.setItem(\"token\", contx.token)\n\n    // return(() => {\n    //   console.log(\"NIKDY GOING OUT APP\")\n    //   if(!contx.rememberSignIn){\n    //     window.localStorage.setItem(\"token\", \"_deleted_COZ_notrembr\")\n    //   }\n    // })\n    // return(function cleanup() {\n    //   window.localStorage.setItem(\"token\", \"cleanedUped\")\n    // };)\n\n  },[]);\n\n  // if (data) {\n    useEffect(() => {\n      if (data && data.getLoggedInUser) {\n\n        // setContx(prev => {return {\n        //   ...prev,\n        //   _id: data.getLoggedInUser._id,\n        //   success: data.getLoggedInUser.success,\n        //   name: data.getLoggedInUser.name,\n        //   email: data.getLoggedInUser.email,\n        //   picture: data.getLoggedInUser.picture,\n        //   description: data.getLoggedInUser.description,\n        // }});\n        console.log(\"Calling setUserToContext from App\")\n        setUserToContext(data.getLoggedInUser)\n      }\n    }, [data]);\n\n  // }\n  useEffect(() => {\n  if (latitude && longitude && !contx.geolocationObj) {\n    console.log(\"Context. setting Geolocation Obj: \", latitude ,longitude)\n    setContx(prev => {\n      return { \n        ...prev, \n        geolocationObj: { lat: latitude, lng: longitude },\n        playFilterObj: {\n          ...prev.playFilterObj,\n          geolocationPlay: { lat: latitude, lng: longitude },\n        }, \n      };\n    });\n  }\n  }, [latitude, longitude])\n\n  useEffect(() => {\n    if (!contx.curPositionAddress) {\n      console.log(\"Context. setting ADDRESS: \", address)\n      setContx(prev => {\n        return { ...prev, curPositionAddress: address };\n      });\n      }\n    }, [address])\n\n  const providerValue = useMemo(() => {\n    let context = contx\n    let setContext = setContx\n    return { context, setContext };\n  }, [contx, setContx]);\n\n  const handleDrawerToggle = () => {\n    if(!window.eventId){\n      setMobileOpen(!mobileOpen);\n    } \n  };\n\n  const ListOfUrls = contx.success\n    ? [\"\", \"play\", \"create\", \"map\", \"about\", \"search\", \"privacy-policy\", \"signout\", \"user\", \"profile\", \"accept\"]\n    : [\"\", \"play\", \"create\", \"map\", \"about\", \"search\", \"privacy-policy\", \"signin\", \"user\", \"signup\", \"accept\"];\n\n    // Just for DRAWER and NavigationHeader (UpperStripe)\n  const ListOfNames = contx.success\n    ? [\"Charlie\", \"Play\", \"Create\", \"Map\", \"About\", \"Sign Out\"]\n    : [\"Charlie\", \"Play\", \"Create\", \"Map\", \"About\", \"Sign In\"];\n  const ListOfComponents = contx.success\n    ? [\n        <Menu\n          ListOfNames={ListOfNames}\n          ListOfUrls={ListOfUrls}\n          finishedAnimation={finishedAnimation}\n          setFinishedAnimation={setFinishedAnimation}\n        />,\n        <Play />,\n        <Create />, //create\n        <MapWrap\n          workingPosition={workingPosition}\n          setWorkingPosition={setWorkingPosition}\n        />, //Map\n        <About />,\n        <Search />,\n        <Privacy />,\n        <SignOut />,\n        <UserModal />,\n        <Profile />,\n      ]\n    : [\n        <Menu\n          ListOfNames={ListOfNames}\n          ListOfUrls={ListOfUrls}\n          finishedAnimation={finishedAnimation}\n          setFinishedAnimation={setFinishedAnimation}\n        />,\n        <Play />,\n        <Create />,\n        <MapWrap\n          workingPosition={workingPosition}\n          setWorkingPosition={setWorkingPosition}\n        />,\n        <About />,\n        <Search />,\n        <Privacy />,\n        <SignIn />,\n        <UserModal />,\n        <SignUp />\n      ];\n   \n  const returnComponent = index => {\n    return <>\n            <CssBaseline />\n            {ListOfComponents[index]}\n          </>;\n  };\n\n  let firstPrint = false;\n  let Modal = false;\n  let justGoBack = false;\n\nuseEffect(() => {\n\n  console.log(\"App Location props rerendered: \", location)\n\n  firstPrint = false;\n  Modal = false;\n  justGoBack = false;\n  var pathSet = location.pathname.split(\"/\");\n\n  if (\n    pathSet[1] == \"event\" ||\n    pathSet[1] == \"user\" ||\n    pathSet[1] == \"signin\" ||\n    pathSet[1] == \"signout\"\n  ) {\n    Modal = true;\n  }\n\n  if (!Modal) {\n    prevLocation = location;\n  }\n\n  if (prevLocation == location) {\n    firstPrint = true;\n  }\n\n  if (\n    location &&\n    location.state &&\n    location.state.justGoBack == true\n  ) {\n    justGoBack = true;\n  }\n\n  console.log(\"Modal, justGoBack, firstPrint \", Modal, justGoBack, firstPrint)\n  console.log(\" PrevLocation, location \", prevLocation, location)\n\n  setRouterState({\n    Modal: Modal,\n    justGoBack: justGoBack,\n    firstPrint: firstPrint \n  })\n\n}, [location])\n \n  return (\n      <ThemeProvider theme={theme}>\n        <UserContext.Provider value={providerValue}>\n          <>\n            {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n            <Hidden smUp implementation=\"css\">\n              <Drawer\n                container={container}\n                variant=\"temporary\"\n                anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n                open={mobileOpen}\n                onClose={handleDrawerToggle}\n                classes={{\n                  paper: classes.drawerPaper\n                }}\n                ModalProps={{\n                  keepMounted: true // Better open performance on mobile.\n                }}\n              >\n                  <DrawerContent\n                  ListOfNames={ListOfNames} \n                  ListOfUrls={ListOfUrls} \n                  handleDrawerToggle={handleDrawerToggle}\n                  drawerWidth={drawerWidth}\n                   />\n              </Drawer>\n            </Hidden>\n\n          <WindowEventSnackbar />\n\n          </>\n          {routerState.firstPrint && routerState.Modal && (\n            <>\n              <Route\n                exact\n                path={`/event/:id`}\n                render={() => (\n                  <>\n                    <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <Event />\n                    </main>\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/user/:id`}\n                render={() => (\n                  <>\n                    <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <UserModal />\n                    </main>\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/signin`}\n                render={() => (\n                  <>\n                    <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <SignIn />\n                    </main>\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/signout`}\n                render={() => (\n                  <>\n                    <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <SignOut />\n                    </main>\n                  </>\n                )}\n              />\n            </>\n          )}\n          {!routerState.firstPrint && routerState.Modal && (\n            <>\n              <Route\n                exact\n                path={`/event/:id`}\n                render={() => (\n                  <>\n                    <Event />\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/user/:id`}\n                render={() => (\n                  <>\n                    <UserModal />\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/signin`}\n                render={() => {\n                  return (\n                    <>\n                      <SignIn />\n                    </>\n                  );\n                }}\n              />\n              <Route\n                exact\n                path={`/signout`}\n                render={() => (\n                  <>\n                    <SignOut />\n                  </>\n                )}\n              />\n\n              <Switch location={prevLocation}>\n                {ListOfUrls.map((text, index) => (\n                  <Route\n                    exact\n                    path={`/${text}`}\n                    key={index}\n                    render={() => (\n                      <>\n                      {text != \"play\" && <UpperStripe\n                          loading={loading}\n                          userApp={contx}\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                          handleDrawerToggle={handleDrawerToggle}\n                          drawerWidth={drawerWidth}\n                        />\n                      }\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {returnComponent(index)}\n                        </main>\n                      </>\n                    )}\n                  />\n                ))}\n\n                <Route\n                  path={`/`}\n                  key={\"xc\"}\n                  render={() => (\n                    <>\n                    <UpperStripe\n                        loading={loading}\n                        userApp={contx}\n                        ListOfNames={ListOfNames}\n                        ListOfUrls={ListOfUrls}\n                        handleDrawerToggle={handleDrawerToggle}\n                        drawerWidth={drawerWidth}\n                      />\n                      <main className={classes.content}>\n                        <div className={classes.toolbar} />\n                        <Menu\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                        />\n                        ,\n                      </main>\n                    </>\n                  )}\n                />\n              </Switch>\n            </>\n          )}\n          {!routerState.Modal && window.firstPrintPlay != \"play\" && (\n            <>\n              <Switch location={prevLocation}>\n              <Route\n                    exact\n                    path={`/map`}\n                    render={() => (\n                      <>\n                      <UpperStripe\n                          loading={loading}\n                          userApp={contx}\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                          handleDrawerToggle={handleDrawerToggle}\n                          drawerWidth={drawerWidth}\n                        />\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {contx.name ? <MapWrap\n                               workingPosition={workingPosition}\n                               setWorkingPosition={setWorkingPosition} /> \n                               : <SignIn />}\n                        </main>\n                      </>\n                    )}\n                  />\n              <Route\n                    exact\n                    path={`/play/:id`}\n                    key={\"index\"}\n                    render={() => (\n                      <>\n                      {window.firstPrintPlay != \"play\" && (\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {returnComponent(1)}\n                        </main>\n                      )}\n                      )\n                      </>\n                    )}\n                  />\n              <Route\n                    exact\n                    path={`/play`}\n                    key={\"index\"}\n                    render={() => (\n                      <>\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {returnComponent(1)}\n                        </main>\n                      </>\n                    )}\n                  />\n              <Route\n                exact\n                path={`/event/:id`}\n                render={() => (\n                  <>\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <Event />\n                    </main>\n                  </>\n                )}\n              />\n            <Route\n                exact\n                path={`/accept/:event_id/:user_id`}\n                render={() => (\n                  <>\n                  <UpperStripe\n                          loading={loading}\n                          userApp={contx}\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                          handleDrawerToggle={handleDrawerToggle}\n                          drawerWidth={drawerWidth}\n                        />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <AcceptPage />\n                    </main>\n                  </>\n                )}\n              />\n                {ListOfUrls.map((text, index) => (\n                  <Route\n                    exact\n                    path={`/${text}`}\n                    key={index}\n                    render={() => (\n                      <>\n                        <UpperStripe\n                          loading={loading}\n                          userApp={contx}\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                          handleDrawerToggle={handleDrawerToggle}\n                          drawerWidth={drawerWidth}\n                        />\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {returnComponent(index)}\n                        </main>\n                      </>\n                    )}\n                  />\n                ))}\n                <Route\n                  path={`/`}\n                  key={\"xc\"}\n                  render={() => (\n                    <>\n                      <UpperStripe\n                        loading={loading}\n                        userApp={contx}\n                        ListOfNames={ListOfNames}\n                        ListOfUrls={ListOfUrls}\n                        handleDrawerToggle={handleDrawerToggle}\n                        drawerWidth={drawerWidth}\n                      />\n                      <main className={classes.content}>\n                        <div className={classes.toolbar} />\n                        <Menu\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                        />\n                        ,\n                      </main>\n                    </>\n                  )}\n                />\n              </Switch>\n              <FloatingBtnWrap />\n            </>\n          )}\n          {!routerState.Modal && window.firstPrintPlay === \"play\" && (\n            <>\n            <Route\n                exact\n                path={`/play/:id`}\n                render={() => (\n                  <>\n                    {/* <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    /> */}\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <PlayOutside />\n                    </main>\n                  </>\n                )}\n            />\n              <Route\n                exact\n                path={`/play`}\n                render={() => (\n                  <>\n                    {/* <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    /> */}\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <Play />\n                    </main>\n                  </>\n                )}\n            />\n            </>\n          )}\n        </UserContext.Provider>\n      </ThemeProvider>\n  );\n}\n\nApp.propTypes = {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  container: PropTypes.instanceOf(\n    typeof Element === \"undefined\" ? Object : Element\n  )\n};\n\n\nfunction AppWrap() {\n  return (\n    <Router>\n      <Route component={props2 => <App {...props2} />} />\n    </Router>\n  );\n}\n\nexport default AppWrap;\n"]},"metadata":{},"sourceType":"module"}