{"ast":null,"code":"import _slicedToArray from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  mutation confirmBooking($event_id: ID!, $user_id: ID!, $decision: Boolean) {\\n    confirmBooking(event_id: $event_id, user_id: $user_id, decision: $decision) {\\n      success\\n    }\\n  }\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useContext}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Card from\"@material-ui/core/Card\";import CardHeader from\"@material-ui/core/CardHeader\";import Avatar from\"@material-ui/core/Avatar\";import IconButton from\"@material-ui/core/IconButton\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import ThumbDownIcon from\"@material-ui/icons/ThumbDown\";import ThumbUpIcon from\"@material-ui/icons/ThumbUp\";import gql from\"graphql-tag\";import{useMutation}from\"@apollo/react-hooks\";import{ALL_EVENTS}from\"src/Services/GQL\";import{PROFILE_DATA}from\"src/Services/GQL/PROFILE_DATA\";import{UserContext}from\"../../userContext\";var CONFIRM_BOOKING=gql(_templateObject());export default function PendingGuest(_ref){var event=_ref.event,booking=_ref.booking,ONE_EVENT=_ref.ONE_EVENT;var _useMutation=useMutation(CONFIRM_BOOKING),_useMutation2=_slicedToArray(_useMutation,2),confirmBooking=_useMutation2[0],confirmStates=_useMutation2[1];var _useContext=useContext(UserContext),context=_useContext.context;console.log(\" PEnding GST event, booking: \",event,booking);var useStyles=makeStyles(function(theme){return{card:{//maxWidth: 345,\n//minWidth: 300,\nwidth:\"100%\",display:\"block\",marginBottom:5,backgroundColor:\"rgba(0,0,0,0.1)\",color:\"white\"},cardHeader:{width:\"100%\"},media:{height:0,paddingTop:\"56.25%\"// 16:9\n},avatar:{},starContainer:{fontSize:20}};});var classes=useStyles();return React.createElement(Card,{className:classes.card},React.createElement(CardHeader,{avatar:React.createElement(Avatar,{\"aria-label\":\"recipe\",src:booking.user.picture,className:classes.avatar},\"R\")// action={\n//   <IconButton aria-label=\"settings\">\n//     <MoreVertIcon />\n//   </IconButton>\n// }\n,title:booking.user.name//title={props.rating.guest.name}\n,subheader:booking.message}),React.createElement(CardActions,{disableSpacing:true},React.createElement(IconButton,{\"aria-label\":\"add to favorites\",onClick:function onClick(){console.log(\"Confirm Book: evt \",event);confirmBooking({variables:{user_id:booking.user._id,event_id:event._id,decision:true},refetchQueries:function refetchQueries(){return[// {\n//   query: ONE_EVENT,\n//   variables: { id: event._id }\n// },\n{query:ALL_EVENTS,variables:{date:new Date(event.dateStart).toISOString().split(\"T\")[0]}},{query:PROFILE_DATA,variables:{host_id:context._id}}];}});}},React.createElement(ThumbUpIcon,{color:\"secondary\"})),React.createElement(IconButton,{\"aria-label\":\"share\"},React.createElement(ThumbDownIcon,{color:\"primary\"}))));}","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Molecules/event/PendingGuest.js"],"names":["React","useContext","makeStyles","Card","CardHeader","Avatar","IconButton","CardActions","CardContent","ThumbDownIcon","ThumbUpIcon","gql","useMutation","ALL_EVENTS","PROFILE_DATA","UserContext","CONFIRM_BOOKING","PendingGuest","event","booking","ONE_EVENT","confirmBooking","confirmStates","context","console","log","useStyles","theme","card","width","display","marginBottom","backgroundColor","color","cardHeader","media","height","paddingTop","avatar","starContainer","fontSize","classes","user","picture","name","message","variables","user_id","_id","event_id","decision","refetchQueries","query","date","Date","dateStart","toISOString","split","host_id"],"mappings":"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","sourcesContent":["import React, { useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport ThumbDownIcon from \"@material-ui/icons/ThumbDown\";\nimport ThumbUpIcon from \"@material-ui/icons/ThumbUp\";\n\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\n\nimport { ALL_EVENTS } from \"src/Services/GQL\";\nimport { PROFILE_DATA } from \"src/Services/GQL/PROFILE_DATA\";\nimport { UserContext } from \"../../userContext\";\n\nconst CONFIRM_BOOKING = gql`\n  mutation confirmBooking($event_id: ID!, $user_id: ID!, $decision: Boolean) {\n    confirmBooking(event_id: $event_id, user_id: $user_id, decision: $decision) {\n      success\n    }\n  }\n`;\n\nexport default function PendingGuest({event, booking, ONE_EVENT}) {\n  const [confirmBooking, confirmStates] = useMutation(CONFIRM_BOOKING);\n  const { context } = useContext(UserContext);\n\n  console.log(\" PEnding GST event, booking: \", event, booking);\n\n  const useStyles = makeStyles(theme => ({\n    card: {\n      //maxWidth: 345,\n      //minWidth: 300,\n      width: \"100%\",\n      display: \"block\",\n      marginBottom: 5,\n      backgroundColor: \"rgba(0,0,0,0.1)\",\n      color: \"white\"\n    },\n    cardHeader: {\n      width: \"100%\"\n    },\n    media: {\n      height: 0,\n      paddingTop: \"56.25%\" // 16:9\n    },\n    avatar: {},\n    starContainer: {\n      fontSize: 20\n    }\n  }));\n\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      <CardHeader\n        avatar={\n          <Avatar\n            aria-label=\"recipe\"\n            src={booking.user.picture}\n            className={classes.avatar}\n          >\n            R\n          </Avatar>\n        }\n        // action={\n        //   <IconButton aria-label=\"settings\">\n        //     <MoreVertIcon />\n        //   </IconButton>\n        // }\n        title={booking.user.name}\n        //title={props.rating.guest.name}\n        subheader={booking.message}\n      />\n      <CardActions disableSpacing>\n        <IconButton\n          aria-label=\"add to favorites\"\n          onClick={() => {\n            console.log(\"Confirm Book: evt \", event)\n            confirmBooking({\n              variables: {\n                user_id: booking.user._id,\n                event_id: event._id,\n                decision: true\n              },\n              refetchQueries: () => [\n                // {\n                //   query: ONE_EVENT,\n                //   variables: { id: event._id }\n                // },\n                {\n                  query: ALL_EVENTS,\n                  variables: {\n                    date: new Date(event.dateStart)\n                      .toISOString()\n                      .split(\"T\")[0]\n                  }\n                },\n                {\n                  query: PROFILE_DATA,\n                  variables: { \n                    host_id: context._id \n                  }\n                },\n              ]\n            });\n          }}\n        >\n          <ThumbUpIcon color=\"secondary\" />\n        </IconButton>\n        <IconButton aria-label=\"share\">\n          <ThumbDownIcon color=\"primary\" />\n        </IconButton>\n      </CardActions>\n    </Card>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}