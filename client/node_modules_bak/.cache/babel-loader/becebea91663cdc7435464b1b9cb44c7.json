{"ast":null,"code":"import _defineProperty from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useRef,useContext,useEffect}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Grid from\"@material-ui/core/Grid\";import Avatar from\"@material-ui/core/Avatar\";import IconButton from\"@material-ui/core/IconButton\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import ExpandLessIcon from\"@material-ui/icons/ExpandLess\";import DoneIcon from'@material-ui/icons/Done';import CloseIcon from'@material-ui/icons/Close';import FiberManualRecordIcon from'@material-ui/icons/FiberManualRecord';import Badge from'@material-ui/core/Badge';import Collapse from\"@material-ui/core/Collapse\";import Typography from\"@material-ui/core/Typography\";import{red}from\"@material-ui/core/colors\";// import countdown from \"countdown\";\n// import { withRouter, useHistory, NavLink } from \"react-router-dom\";\n// import { useMutation } from \"@apollo/react-hooks\";\n// import gql from \"graphql-tag\";\nimport{useXsSize}from\"../../Hooks/useXsSize\";import{useCountdown}from\"src/Hooks/useCountdown\";import{UserContext}from\"../../userContext\";import PlayListWrap from\"./PlayListWrap\";import PlayPageGallery from\"../../Molecules/play/PlayPageGallery\";import PlayPageMap from\"../../Molecules/play/PlayPageMap\";import PartyOn from\"src/Atoms/PartyOn\";import EventButtons from\"src/Molecules/event/EventButtons\";export default function EventCardProfile(_ref){var event=_ref.event;var classes=useStyles();var _useXsSize=useXsSize(),xs_size_memo=_useXsSize.xs_size_memo,md_size_memo=_useXsSize.md_size_memo;var _useCountdown=useCountdown(event.dateStart,1),counteddownDate=_useCountdown.counteddownDate;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var _useContext=useContext(UserContext),context=_useContext.context,setContext=_useContext.setContext;var inputDescription=useRef(null);useEffect(function(){if(context.expanded_id===event._id){setExpanded(true);}else{setExpanded(false);}},[context.expanded_id]);var handleExpandClick=function handleExpandClick(){console.log(\"event._id: \",event._id);if(context.expanded_id===event._id){setContext(function(prev){return _objectSpread({},prev,{expanded_id:null});});}else{setContext(function(prev){return _objectSpread({},prev,{expanded_id:event._id});});}};var bgColor=\"transparent\";if(event.happeningNow){bgColor=\"transparent\";}else if(expanded){if(md_size_memo){bgColor=\"rgba(0,0,0,0.1)\";}else{bgColor=\"transparent\";//\"rgba(0,0,0,0.05)\"\n}}var badgeContent;if(event.decided){if(event.confirmed){badgeContent=React.createElement(DoneIcon,{fontSize:\"small\"});}else{badgeContent=React.createElement(CloseIcon,{fontSize:\"small\"});//\"rgba(0,0,0,0.05)\"\n}}else{badgeContent=React.createElement(FiberManualRecordIcon,{fontSize:\"small\",className:classes.dotBadge});}badgeContent=React.createElement(Avatar,{src:event.author.picture});return React.createElement(Grid,{item:true,className:classes.mainItem,style:{// boxShadow: expanded ? \"4px 3px 5px 0px rgba(0,0,0,0.5)\" : \"none\",\ncolor:md_size_memo?\"white\":\"black\",width:xs_size_memo?\"100%\":\"86%\",backgroundColor:bgColor,//expanded ? bgColor : \"transparent\",\nborderBottom:xs_size_memo?\"1px solid white\":\"2px solid lightGrey\"}},React.createElement(Grid,{container:true,onClick:handleExpandClick,alignItems:\"center\",className:classes.mainSolidLine},React.createElement(Grid,{item:true,xs:xs_size_memo?4:3},React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true,className:classes.itemAvatar},React.createElement(IconButton,{\"aria-label\":\"settings\"},React.createElement(Badge,{badgeContent:badgeContent,className:classes.badge//color={event ? \"primary\" : \"secondary\"}\n// style={{ backgroundColor: event.decided ? \"grey\" : \"red\"}}\n},React.createElement(\"img\",{src:event.imagesArr[0].thumbnail,className:classes.mainAvatar})))))),React.createElement(Grid,{item:true,xs:xs_size_memo?8:7},React.createElement(Typography,{variant:\"body2\",align:\"left\",className:classes.mainHeader},React.createElement(\"b\",null,event.name),\" hosted by \",React.createElement(\"b\",null,event.author.name)),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:6},React.createElement(Typography,{variant:\"body2\",align:\"left\",className:classes.countdown},\"Start \",React.createElement(\"b\",null,counteddownDate))),React.createElement(Grid,{item:true,xs:6,className:classes.partyOnGrid},event.happeningNow&&React.createElement(PartyOn,null)))),!xs_size_memo&&React.createElement(Grid,{item:true,xs:2},React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true,style:{transition:\"transform .1s ease-in-out\",transform:expanded?\"rotate(-180deg)\":\"rotate(0deg)\"}},React.createElement(IconButton,{\"aria-label\":\"settings\"},React.createElement(ExpandMoreIcon,{fontSize:\"large\"})))))),React.createElement(Collapse,{in:expanded,timeout:\"auto\",unmountOnExit:true},React.createElement(PlayPageGallery,{event:event}),React.createElement(PlayListWrap,{event:event}),React.createElement(PlayPageMap,{event:event,paddingSides:\"0px\"}),React.createElement(EventButtons,{event:event}),React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true},React.createElement(IconButton,{\"aria-label\":\"settings\",style:{backgroundColor:\"lightGrey\",margin:5},onClick:handleExpandClick},React.createElement(ExpandLessIcon,{fontSize:\"large\"}))))));}var useStyles=makeStyles(function(theme){return{mainItem:{// borderRadius: 15,\n// borderBottom: \"3px solid white\" //#707070\n// margin: 10,\n// padding: 10\n},mainSolidLine:{marginTop:10,marginBottom:20},leftMiddleItem:{},middleBody:{},mainHeader:{fontSize:16,marginLeft:20,marginRight:20},countdown:{marginTop:10,fontWeight:400,color:\"grey\",marginLeft:20},partyOnGrid:{marginTop:10},badge:{padding:'0 important'},dotBadge:{height:15,width:15},userAvatar:{backgroundColor:red[500],height:80,width:80},btnContainer:{marginBottom:5,marginTop:10},textField:{},textFieldCont:{margin:10},btnWrapLeft:{borderRight:\"1px solid #707070\"},btn:{// height: 50,\n// width: \"50%\"\n},itemAvatar:{},mainAvatar:{height:90,width:90},btnAvatar:{height:20,width:20},thisLine:{height:\"1px\",width:\"100%\",marginTop:\"2px\",backgroundColor:\"#707070\"}};});","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Atoms/Profile/EventCardProfile.js"],"names":["React","useState","useRef","useContext","useEffect","makeStyles","Grid","Avatar","IconButton","ExpandMoreIcon","ExpandLessIcon","DoneIcon","CloseIcon","FiberManualRecordIcon","Badge","Collapse","Typography","red","useXsSize","useCountdown","UserContext","PlayListWrap","PlayPageGallery","PlayPageMap","PartyOn","EventButtons","EventCardProfile","event","classes","useStyles","xs_size_memo","md_size_memo","dateStart","counteddownDate","expanded","setExpanded","context","setContext","inputDescription","expanded_id","_id","handleExpandClick","console","log","prev","bgColor","happeningNow","badgeContent","decided","confirmed","dotBadge","author","picture","mainItem","color","width","backgroundColor","borderBottom","mainSolidLine","itemAvatar","badge","imagesArr","thumbnail","mainAvatar","mainHeader","name","countdown","partyOnGrid","transition","transform","margin","theme","marginTop","marginBottom","leftMiddleItem","middleBody","fontSize","marginLeft","marginRight","fontWeight","padding","height","userAvatar","btnContainer","textField","textFieldCont","btnWrapLeft","borderRight","btn","btnAvatar","thisLine"],"mappings":"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","sourcesContent":["import React, { useState, useRef, useContext, useEffect } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport Badge from '@material-ui/core/Badge';\n\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { red } from \"@material-ui/core/colors\";\n\n// import countdown from \"countdown\";\n// import { withRouter, useHistory, NavLink } from \"react-router-dom\";\n// import { useMutation } from \"@apollo/react-hooks\";\n// import gql from \"graphql-tag\";\n\nimport { useXsSize } from \"../../Hooks/useXsSize\";\nimport { useCountdown } from \"src/Hooks/useCountdown\";\nimport { UserContext } from \"../../userContext\";\n\nimport PlayListWrap from \"./PlayListWrap\";\nimport PlayPageGallery from \"../../Molecules/play/PlayPageGallery\";\nimport PlayPageMap from \"../../Molecules/play/PlayPageMap\";\nimport PartyOn from \"src/Atoms/PartyOn\";\nimport EventButtons from \"src/Molecules/event/EventButtons\";\n\n\nexport default function EventCardProfile({ event }) {\n  const classes = useStyles();\n  const { xs_size_memo, md_size_memo } = useXsSize();\n  const { counteddownDate } = useCountdown(event.dateStart, 1)\n  const [expanded, setExpanded] = useState(false);\n  const { context, setContext } = useContext(UserContext);\n\n  const inputDescription = useRef(null);\n\n  useEffect(() => {\n    if(context.expanded_id === event._id){\n      setExpanded(true)\n    }else{\n      setExpanded(false)\n    }\n  }, [context.expanded_id])\n\n  const handleExpandClick = () => {\n\n    console.log(\"event._id: \", event._id)\n\n    if(context.expanded_id === event._id){\n      setContext(prev => {\n        return { ...prev, \n          expanded_id: null\n        };\n        })\n    } else{\n          setContext(prev => {\n            return { ...prev, \n              expanded_id: event._id\n            };\n        })\n    }\n  };\n\n  let bgColor = \"transparent\"\n  if(event.happeningNow){\n    bgColor = \"transparent\"\n  }else if(expanded){\n    if(md_size_memo){\n      bgColor = \"rgba(0,0,0,0.1)\"\n    } else {\n      bgColor = \"transparent\" //\"rgba(0,0,0,0.05)\"\n    }\n  }\n\nlet badgeContent \nif(event.decided){\n    if(event.confirmed){\n      badgeContent =  <DoneIcon fontSize=\"small\" />\n    } else {\n      badgeContent =  <CloseIcon fontSize=\"small\" /> //\"rgba(0,0,0,0.05)\"\n    }\n  } else {\n    badgeContent = <FiberManualRecordIcon fontSize=\"small\" className={classes.dotBadge} /> \n  }\n  badgeContent = <Avatar src={event.author.picture} />\n\n\n  return (\n    <Grid\n      item\n      className={classes.mainItem}\n      style={{\n        // boxShadow: expanded ? \"4px 3px 5px 0px rgba(0,0,0,0.5)\" : \"none\",\n        color: md_size_memo ? \"white\" : \"black\",\n        width: xs_size_memo ? \"100%\" : \"86%\",\n        backgroundColor: bgColor, //expanded ? bgColor : \"transparent\",\n        borderBottom: xs_size_memo ? \"1px solid white\" : \"2px solid lightGrey\"\n      }}\n    >\n      <Grid\n        container\n        onClick={handleExpandClick}\n        alignItems=\"center\"\n        className={classes.mainSolidLine}\n      >\n        <Grid item xs={xs_size_memo ? 4 : 3}>\n          <Grid container justify=\"center\">\n            <Grid item className={classes.itemAvatar}>\n              <IconButton aria-label=\"settings\">\n                <Badge badgeContent={badgeContent} \n                        className={classes.badge} \n                        //color={event ? \"primary\" : \"secondary\"}\n                        // style={{ backgroundColor: event.decided ? \"grey\" : \"red\"}}\n                        >\n                  <img\n                    src={event.imagesArr[0].thumbnail}\n                    className={classes.mainAvatar}\n                  />\n                </Badge>\n              </IconButton>\n            </Grid>\n\n          </Grid>\n        </Grid>\n\n        <Grid item xs={xs_size_memo ? 8 : 7}>\n          <Typography\n            variant=\"body2\"\n            align=\"left\"\n            className={classes.mainHeader}\n          >\n            <b>{event.name}</b> hosted by <b>{event.author.name}</b>\n          </Typography>\n          <Grid container>\n          <Grid item xs={6}>\n          <Typography\n            variant=\"body2\"\n            align=\"left\"\n            className={classes.countdown}\n          >\n           Start <b>{counteddownDate}</b>\n          </Typography>\n          </Grid>\n          <Grid item xs={6} className={classes.partyOnGrid}>\n            {event.happeningNow && <PartyOn />}\n          </Grid>\n          </Grid>\n        </Grid>\n\n        {!xs_size_memo && (\n          <Grid item xs={2}>\n            <Grid container justify=\"center\">\n              <Grid\n                item\n                style={{\n                  transition: \"transform .1s ease-in-out\",\n                  transform: expanded ? \"rotate(-180deg)\" : \"rotate(0deg)\"\n                }}\n              >\n                <IconButton aria-label=\"settings\">\n                  <ExpandMoreIcon fontSize=\"large\" />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </Grid>\n        )}\n      </Grid>\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n\n          <PlayPageGallery event={event} />\n          <PlayListWrap\n              event={event}\n            />\n          <PlayPageMap\n              event={event}\n              paddingSides={\"0px\"}\n            /> \n            <EventButtons\n                event={event}\n              />\n            <Grid container justify=\"center\">\n              <Grid\n                item\n              >\n                <IconButton\n                      aria-label=\"settings\" \n                      style={{backgroundColor: \"lightGrey\",margin: 5}}\n                      onClick={handleExpandClick}>\n                  <ExpandLessIcon fontSize=\"large\" />\n                </IconButton>\n            </Grid>\n          </Grid>\n\n      </Collapse>\n    </Grid>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  mainItem: {\n    // borderRadius: 15,\n    // borderBottom: \"3px solid white\" //#707070\n    // margin: 10,\n    // padding: 10\n  },\n  mainSolidLine: {\n    marginTop: 10,\n    marginBottom: 20\n  },\n  leftMiddleItem: {},\n  middleBody: {},\n  mainHeader: {\n    fontSize: 16,\n    marginLeft: 20,\n    marginRight: 20\n  },\n  countdown: {\n    marginTop: 10,\n    fontWeight: 400,\n    color: \"grey\",\n    marginLeft: 20\n  },\n  partyOnGrid: {\n    marginTop: 10\n  },\n  badge: {\n    padding: '0 important'\n  },\n  dotBadge: {\n    height: 15,\n    width: 15\n  },\n  userAvatar: {\n    backgroundColor: red[500],\n    height: 80,\n    width: 80\n  },\n  btnContainer: {\n    marginBottom: 5,\n    marginTop: 10\n  },\n  textField: {},\n  textFieldCont: {\n    margin: 10\n  },\n  btnWrapLeft: {\n    borderRight: \"1px solid #707070\"\n  },\n  btn: {\n    // height: 50,\n    // width: \"50%\"\n  },\n  itemAvatar: {\n\n  },\n  mainAvatar: {\n    height: 90,\n    width: 90\n  },\n  btnAvatar: {\n    height: 20,\n    width: 20\n  },\n  thisLine: {\n    height: \"1px\",\n    width: \"100%\",\n    marginTop: \"2px\",\n    backgroundColor: \"#707070\"\n  }\n}));\n"]},"metadata":{},"sourceType":"module"}