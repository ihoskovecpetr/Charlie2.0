{"ast":null,"code":"import _slicedToArray from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import Grid from\"@material-ui/core/Grid\";import Avatar from\"@material-ui/core/Avatar\";import IconButton from\"@material-ui/core/IconButton\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import DoneIcon from'@material-ui/icons/Done';import CloseIcon from'@material-ui/icons/Close';import Badge from'@material-ui/core/Badge';import Collapse from\"@material-ui/core/Collapse\";import Typography from\"@material-ui/core/Typography\";import{red}from\"@material-ui/core/colors\";import countdown from\"countdown\";import{useMutation}from\"@apollo/react-hooks\";import gql from\"graphql-tag\";import{useXsSize}from\"../../Hooks/useXsSize\";import{UserContext}from\"../../userContext\";import{PROFILE_DATA}from\"src/Services/GQL/PROFILE_DATA\";import{SEEN_BOOKING}from\"src/Services/GQL/SEEN_BOOKING\";import PartyOn from\"src/Atoms/PartyOn\";import BookingMessages from\"src/Atoms/BookingMessages\";import ListTopHalf from\"src/Atoms/Play/ListTopHalf\";import EventButtons from\"src/Molecules/event/EventButtons\";export default function PendingBokingCard(_ref){var booking=_ref.booking;var classes=useStyles();var _useXsSize=useXsSize(),xs_size_memo=_useXsSize.xs_size_memo,md_size_memo=_useXsSize.md_size_memo;var _useContext=useContext(UserContext),context=_useContext.context,setContext=_useContext.setContext;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),expanded=_useState2[0],setExpanded=_useState2[1];var _useMutation=useMutation(SEEN_BOOKING),_useMutation2=_slicedToArray(_useMutation,2),markBookingSeen=_useMutation2[0],seenStates=_useMutation2[1];console.log(\"Rerender PendingBokingCard: \",booking.event.name);useEffect(function(){// if(context.expanded_id === booking._id){\n//   setExpanded(true)\n// }else{\n//   setExpanded(false)\n// }\n},[]);var handleExpandClick=function handleExpandClick(){if(expanded){setExpanded(false);// setContext(prev => {\n//   return { ...prev, \n//     expanded_id: null\n//   };\n//   })\n}else{setExpanded(true);//   setContext(prev => {\n//     return { ...prev, \n//       expanded_id: booking._id\n//     };\n// })\n}// seenUserHandle()\n};var seenUserHandle=function seenUserHandle(){markBookingSeen({variables:{booking_id:booking._id,user:true},refetchQueries:function refetchQueries(){return[{query:PROFILE_DATA,variables:{host_id:context._id}}];}});};var color=\"transparent\";if(expanded){if(md_size_memo){color=\"rgba(0,0,0,0.1)\";}else{color=\"white\";//\"rgba(0,0,0,0.05)\"\n}}else{if(md_size_memo){if(booking.seenUser===false){color=\"rgba(0,0,0,0.1)\";}}else{if(booking.seenUser===false){color=\"white\";}}}var badgeContent;if(booking.decided){if(booking.confirmed){badgeContent=React.createElement(DoneIcon,{fontSize:\"small\"});}else{badgeContent=React.createElement(CloseIcon,{fontSize:\"small\"});//\"rgba(0,0,0,0.05)\"\n}}else{badgeContent=null;//<FiberManualRecordIcon fontSize=\"small\" className={classes.dotBadge} /> \n}return React.createElement(Grid,{item:true,className:classes.mainItem,style:{// boxShadow: expanded ? \"4px 3px 5px 0px rgba(0,0,0,0.5)\" : \"none\",\ncolor:md_size_memo?\"white\":\"black\",width:xs_size_memo?\"100%\":\"85%\",backgroundColor:color,//expanded ? color : \"transparent\",\nborderBottom:xs_size_memo?\"1px solid white\":\"2px solid lightGrey\"}},React.createElement(Grid,{container:true,onClick:handleExpandClick,alignItems:\"center\",className:classes.mainSolidLine},React.createElement(Grid,{item:true,xs:xs_size_memo?9:8},React.createElement(Typography,{variant:\"body2\",align:\"left\",className:classes.mainHeader},React.createElement(\"b\",null,\"Your\"),\" request to join\",\" \",React.createElement(\"b\",null,booking.event.name),\" is \",!booking.decided?\"PENDING\":booking.confirmed?\"CONFIRMED\":\"DECLINED\"),React.createElement(Grid,{container:true},React.createElement(Grid,{item:true,xs:6},React.createElement(Typography,{variant:\"body2\",align:\"left\",className:classes.countdown},\"created \",React.createElement(\"b\",null,countdown(new Date(booking.createdAt),new Date(),\"X\",1).toString(),\" \",\"ago\"))),React.createElement(Grid,{item:true,xs:6,className:classes.partyOnGrid},booking.event.happeningNow&&React.createElement(PartyOn,null)))),React.createElement(Grid,{item:true,xs:xs_size_memo?3:2},React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true},React.createElement(IconButton,{\"aria-label\":\"settings\"},React.createElement(Badge,{badgeContent:badgeContent,className:classes.badge,color:booking.decided?\"primary\":\"secondary\"// style={{ backgroundColor: booking.decided ? \"grey\" : \"red\"}}\n},React.createElement(\"img\",{src:booking.event.imagesArr[0].thumbnail,className:classes.mainAvatar})))))),!xs_size_memo&&React.createElement(Grid,{item:true,xs:2},React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Grid,{item:true,style:{transition:\"transform .1s ease-in-out\",transform:expanded?\"rotate(-180deg)\":\"rotate(0deg)\"}},React.createElement(IconButton,{\"aria-label\":\"settings\"},React.createElement(ExpandMoreIcon,{fontSize:\"large\"})))))),React.createElement(Collapse,{in:expanded,timeout:\"auto\",unmountOnExit:true},React.createElement(Grid,{container:true,justify:\"center\",className:classes.messageWrap},React.createElement(Grid,{item:true},React.createElement(Grid,{container:true,className:classes.messageContainer},React.createElement(BookingMessages,{booking:booking})))),React.createElement(Grid,{container:true,className:classes.middleBody},React.createElement(ListTopHalf,{event:booking.event,transparent:true,context:context})),React.createElement(EventButtons,{event:booking.event})));}var useStyles=makeStyles(function(theme){return{mainItem:{// borderRadius: 15,\n// borderBottom: \"3px solid white\" //#707070\n// margin: 10,\n// padding: 10\n},mainSolidLine:{marginTop:10,marginBottom:20},leftMiddleItem:{},middleBody:{},mainHeader:{fontSize:16,marginLeft:20,marginRight:20},countdown:{marginTop:10,fontWeight:400,color:\"grey\",marginLeft:20},badge:{padding:'0 important'},dotBadge:{height:15,width:15},userAvatar:{backgroundColor:red[500],height:80,width:80},partyOnGrid:{marginTop:10},textField:{},textFieldCont:{margin:10},messageWrap:{padding:10},messageContainer:{backgroundColor:\"rgba(0,0,0,0.38)\",borderRadius:10},mainAvatar:{height:80,width:80},thisLine:{height:\"1px\",width:\"100%\",marginTop:\"2px\",backgroundColor:\"#707070\"}};});","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Atoms/Profile/PendingBookingCard.js"],"names":["React","useState","useEffect","useContext","makeStyles","Grid","Avatar","IconButton","ExpandMoreIcon","DoneIcon","CloseIcon","Badge","Collapse","Typography","red","countdown","useMutation","gql","useXsSize","UserContext","PROFILE_DATA","SEEN_BOOKING","PartyOn","BookingMessages","ListTopHalf","EventButtons","PendingBokingCard","booking","classes","useStyles","xs_size_memo","md_size_memo","context","setContext","expanded","setExpanded","markBookingSeen","seenStates","console","log","event","name","handleExpandClick","seenUserHandle","variables","booking_id","_id","user","refetchQueries","query","host_id","color","seenUser","badgeContent","decided","confirmed","mainItem","width","backgroundColor","borderBottom","mainSolidLine","mainHeader","Date","createdAt","toString","partyOnGrid","happeningNow","badge","imagesArr","thumbnail","mainAvatar","transition","transform","messageWrap","messageContainer","middleBody","theme","marginTop","marginBottom","leftMiddleItem","fontSize","marginLeft","marginRight","fontWeight","padding","dotBadge","height","userAvatar","textField","textFieldCont","margin","borderRadius","thisLine"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport DoneIcon from '@material-ui/icons/Done';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Badge from '@material-ui/core/Badge';\n\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { red } from \"@material-ui/core/colors\";\n\nimport countdown from \"countdown\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\n\nimport { useXsSize } from \"../../Hooks/useXsSize\";\nimport { UserContext } from \"../../userContext\";\nimport { PROFILE_DATA } from \"src/Services/GQL/PROFILE_DATA\";\nimport { SEEN_BOOKING } from \"src/Services/GQL/SEEN_BOOKING\";\n\nimport PartyOn from \"src/Atoms/PartyOn\";\nimport BookingMessages from \"src/Atoms/BookingMessages\";\nimport ListTopHalf from \"src/Atoms/Play/ListTopHalf\";\nimport EventButtons from \"src/Molecules/event/EventButtons\";\n\n\nexport default function PendingBokingCard({ booking }) {\n  const classes = useStyles();\n  const { xs_size_memo, md_size_memo } = useXsSize();\n  const { context, setContext } = useContext(UserContext);\n  const [expanded, setExpanded] = useState(false);\n  const [markBookingSeen, seenStates] = useMutation(SEEN_BOOKING);\n\n  console.log(\"Rerender PendingBokingCard: \", booking.event.name)\n\nuseEffect(() => {\n  // if(context.expanded_id === booking._id){\n  //   setExpanded(true)\n  // }else{\n  //   setExpanded(false)\n  // }\n}, [])\n\n\n  const handleExpandClick = () => {\n\n    if(expanded){\n      setExpanded(false)\n      // setContext(prev => {\n      //   return { ...prev, \n      //     expanded_id: null\n      //   };\n      //   })\n    } else{\n        setExpanded(true)\n      //   setContext(prev => {\n      //     return { ...prev, \n      //       expanded_id: booking._id\n      //     };\n      // })\n    }\n    // seenUserHandle()\n  };\n\n  const seenUserHandle = () => {\n    markBookingSeen({\n      variables: {\n        booking_id: booking._id,\n        user: true,\n      },\n      refetchQueries: () => [\n        {\n          query: PROFILE_DATA,\n          variables: { host_id: context._id }\n        }\n      ]\n    });\n  };\n\n  let color = \"transparent\"\n  if(expanded){\n    if(md_size_memo){\n      color = \"rgba(0,0,0,0.1)\"\n    } else {\n      color = \"white\" //\"rgba(0,0,0,0.05)\"\n    }\n  }else{\n    if(md_size_memo){\n      if(booking.seenUser === false){\n        color = \"rgba(0,0,0,0.1)\"\n      }\n    }else{\n          if(booking.seenUser === false){\n      color = \"white\"\n    }\n    }\n  }\n\nlet badgeContent \nif(booking.decided){\n    if(booking.confirmed){\n      badgeContent =  <DoneIcon fontSize=\"small\" />\n    } else {\n      badgeContent =  <CloseIcon fontSize=\"small\" /> //\"rgba(0,0,0,0.05)\"\n    }\n  } else {\n    badgeContent = null //<FiberManualRecordIcon fontSize=\"small\" className={classes.dotBadge} /> \n  }\n\n  return (\n    <Grid\n      item\n      className={classes.mainItem}\n      style={{\n        // boxShadow: expanded ? \"4px 3px 5px 0px rgba(0,0,0,0.5)\" : \"none\",\n        color: md_size_memo ? \"white\" : \"black\",\n        width: xs_size_memo ? \"100%\" : \"85%\",\n        backgroundColor: color, //expanded ? color : \"transparent\",\n        borderBottom: xs_size_memo ? \"1px solid white\" : \"2px solid lightGrey\"\n      }}\n    >\n      <Grid\n        container\n        onClick={handleExpandClick}\n        alignItems=\"center\"\n        className={classes.mainSolidLine}\n      >\n        <Grid item xs={xs_size_memo ? 9 : 8}>\n          <Typography\n            variant=\"body2\"\n            align=\"left\"\n            className={classes.mainHeader}\n          >\n            <b>Your</b> request to join{\" \"}\n            <b>{booking.event.name}</b> is {!booking.decided ? \"PENDING\" : booking.confirmed ? \"CONFIRMED\" : \"DECLINED\"}\n          </Typography>\n          <Grid container >\n            <Grid item xs={6}>\n              <Typography\n                variant=\"body2\"\n                align=\"left\"\n                className={classes.countdown}\n              >\n                created <b>{countdown(\n                  new Date(booking.createdAt),\n                  new Date(),\n                  \"X\",\n                  1\n                ).toString()}{\" \"}\n                ago</b>\n              </Typography>\n            </Grid>\n            <Grid item xs={6} className={classes.partyOnGrid}>\n              {booking.event.happeningNow && <PartyOn />}\n            </Grid>\n          </Grid>\n        </Grid>\n        \n        <Grid item xs={xs_size_memo ? 3 : 2}>\n          <Grid container justify=\"center\">\n            <Grid item>\n              <IconButton aria-label=\"settings\">\n                <Badge badgeContent={badgeContent} \n                        className={classes.badge} \n                        color={booking.decided ? \"primary\" : \"secondary\"}\n                        // style={{ backgroundColor: booking.decided ? \"grey\" : \"red\"}}\n                        >\n                  <img\n                    src={booking.event.imagesArr[0].thumbnail}\n                    className={classes.mainAvatar}\n                  />\n                </Badge>\n              </IconButton>\n            </Grid>\n\n          </Grid>\n        </Grid>\n        {!xs_size_memo && (\n          <Grid item xs={2}>\n            <Grid container justify=\"center\">\n              <Grid\n                item\n                style={{\n                  transition: \"transform .1s ease-in-out\",\n                  transform: expanded ? \"rotate(-180deg)\" : \"rotate(0deg)\"\n                }}\n              >\n                <IconButton aria-label=\"settings\">\n                  <ExpandMoreIcon fontSize=\"large\" />\n                </IconButton>\n              </Grid>\n            </Grid>\n          </Grid>\n        )}\n      </Grid>\n      <Collapse in={expanded} timeout=\"auto\" unmountOnExit>\n          <Grid container justify=\"center\" className={classes.messageWrap}>\n            <Grid item>\n              <Grid container className={classes.messageContainer}>\n                <BookingMessages booking={booking} />\n              </Grid>\n            </Grid>\n          </Grid>\n        <Grid container className={classes.middleBody}>\n          <ListTopHalf event={booking.event} transparent={true} context={context}/>\n        </Grid>\n        <EventButtons event={booking.event} />\n      </Collapse>\n    </Grid>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  mainItem: {\n    // borderRadius: 15,\n    // borderBottom: \"3px solid white\" //#707070\n    // margin: 10,\n    // padding: 10\n  },\n  mainSolidLine: {\n    marginTop: 10,\n    marginBottom: 20\n  },\n  leftMiddleItem: {},\n  middleBody: {},\n  mainHeader: {\n    fontSize: 16,\n    marginLeft: 20,\n    marginRight: 20\n  },\n  countdown: {\n    marginTop: 10,\n    fontWeight: 400,\n    color: \"grey\",\n    marginLeft: 20\n  },\n  badge: {\n    padding: '0 important'\n  },\n  dotBadge: {\n    height: 15,\n    width: 15\n  },\n  userAvatar: {\n    backgroundColor: red[500],\n    height: 80,\n    width: 80\n  },\n  partyOnGrid: {\n    marginTop: 10\n  },\n  textField: {},\n  textFieldCont: {\n    margin: 10\n  },\n  messageWrap: {\n    padding: 10\n  },\n  messageContainer: {\n    backgroundColor: \"rgba(0,0,0,0.38)\",\n    borderRadius: 10\n  },\n  mainAvatar: {\n    height: 80,\n    width: 80\n  },\n  thisLine: {\n    height: \"1px\",\n    width: \"100%\",\n    marginTop: \"2px\",\n    backgroundColor: \"#707070\"\n  }\n}));\n"]},"metadata":{},"sourceType":"module"}