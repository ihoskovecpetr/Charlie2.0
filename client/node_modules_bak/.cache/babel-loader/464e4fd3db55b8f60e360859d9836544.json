{"ast":null,"code":"import _slicedToArray from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useContext,useState}from\"react\";import Grid from\"@material-ui/core/Grid\";import Typography from\"@material-ui/core/Typography\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import Switch from\"@material-ui/core/Switch\";import Button from\"@material-ui/core/Button\";import TextField from\"@material-ui/core/TextField\";import Tooltip from\"@material-ui/core/Tooltip\";import{makeStyles}from\"@material-ui/core/styles\";import FacebookIcon from'@material-ui/icons/Facebook';import LinkIcon from'@material-ui/icons/Link';import clsx from'clsx';import{useHistory}from\"react-router-dom\";import{displayDate}from\"../../Services/transform-services\";import{useXsSize}from\"src/Hooks/useXsSize\";import{UserContext}from\"src/userContext\";import ListTopHalf from\"src/Atoms/Play/ListTopHalf\";import QRCodeEntering from\"src/Atoms/Play/QRCodeEntering\";import PendingGuest from\"../event/PendingGuest\";import ConfirmedGuest from\"../event/ConfirmedGuest\";import UserCardPlay from\"./UserCardPlay\";import EnteredGuests from\"src/Atoms/Play/EnteredGuests\";import BookingMessages from\"src/Atoms/BookingMessages\";import BookingAcceptInput from\"src/Atoms/BookingAcceptInput\";var PlayPageList=function PlayPageList(_ref){var propContext=_ref.propContext,propSetContext=_ref.propSetContext,event=_ref.event,bookings=_ref.bookings,GQL_refetch=_ref.GQL_refetch,refetchVariables=_ref.refetchVariables,cancelBooking=_ref.cancelBooking,cancelledState=_ref.cancelledState,paddingSides=_ref.paddingSides;var classes=useStyles();var _useXsSize=useXsSize(),xs_size_memo=_useXsSize.xs_size_memo,md_size_memo=_useXsSize.md_size_memo;var _useContext=useContext(UserContext),context=_useContext.context,setContext=_useContext.setContext;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),openTooltip=_useState2[0],setOpenTooltip=_useState2[1];var history=useHistory();//Count confirmed \nvar confBookings=0;if(bookings){confBookings=bookings.filter(function(booking){if(booking.confirmed){return true;}else{return false;}});}console.log(\"confBookings: \",confBookings,event.name);var bgColor=\"transparent\";if(md_size_memo){bgColor=\"rgba(0,0,0,0.1)\";}else{bgColor=\"rgba(0,0,0,0.1)\";}var handleTooltipClose=function handleTooltipClose(){setOpenTooltip(false);};var handleCopyLink=function handleCopyLink(){var copyText=document.getElementById(\"myInput\");copyText.select();copyText.setSelectionRange(0,99999);document.execCommand(\"copy\");setOpenTooltip(true);};return React.createElement(Grid,{container:true,justify:\"flex-start\",alignItems:\"flex-start\",alignContent:\"flex-start\",className:classes.mainContainer,style:{touchAction:\"inherit\",paddingLeft:paddingSides?paddingSides:'20px',paddingRight:paddingSides?paddingSides:'20px'}},React.createElement(ListTopHalf,{event:event,context:propContext?propContext:context}),\"  \",React.createElement(Grid,{item:true,xs:12},React.createElement(Grid,{container:true,alignItems:\"center\",justify:\"center\"},React.createElement(Grid,{item:true,className:classes.separatorLineItem}))),React.createElement(Grid,{item:true,xs:12,className:classes.blackBackContainer,style:{backgroundColor:bgColor}},React.createElement(Grid,{container:true,alignItems:\"center\"},React.createElement(Grid,{item:true,className:classes.descWrap},React.createElement(Typography,{variant:\"subtitle1\",className:classes.standardDescription},event.description))),React.createElement(Grid,{container:true,alignItems:\"center\",justify:\"flex-end\"},React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{variant:\"subtitle1\",className:classes.lineHeader},\"ATTENDEES (\",confBookings&&confBookings.length,\"/\",event.capacityMax,\")\")),React.createElement(Grid,{item:true,xs:10,className:classes.attendeesWrap},React.createElement(ConfirmedGuest,{event:event,bookings:bookings,cancelBooking:cancelBooking,cancelledState:cancelledState,GQL_refetch:GQL_refetch,refetchVariables:refetchVariables})),React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{variant:\"subtitle1\",className:classes.lineHeader},\"BRING YOUR OWN DRINK/SNACK\")),React.createElement(Grid,{item:true,xs:10},React.createElement(FormControlLabel,{className:classes.switchBYOWrap,label:event.BYO?\"YES you can\":\"NO you can't\",control:React.createElement(Switch,{checked:event.BYO})})),React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{variant:\"subtitle1\",className:classes.lineHeader},\"AUTHOR\")),React.createElement(Grid,{item:true,xs:10},React.createElement(UserCardPlay,{author:event.author})),event.areYouAuthor&&React.createElement(React.Fragment,null,React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{component:\"div\",className:classes.lineHeader},\"PENDING\")),React.createElement(Grid,{item:true,xs:12},React.createElement(Grid,{container:true,justify:\"center\"},bookings&&bookings.map(function(booking){console.log(\"Booking: \",booking);if(!booking.decided){return React.createElement(Grid,{item:true,className:classes.bookingMessInput},React.createElement(BookingMessages,{booking:booking}),React.createElement(BookingAcceptInput,{booking:booking}));}return null;}),bookings&&bookings.length===0&&React.createElement(\"p\",null,\"No pending guests\")))),event.happeningNow&&React.createElement(React.Fragment,null,React.createElement(Grid,{item:true,xs:12},React.createElement(Typography,{component:\"div\",className:classes.lineHeader},\"ENTERED guests\")),React.createElement(Grid,{item:true,xs:12},React.createElement(EnteredGuests,{bookings:bookings})),event.areYouAuthor&&React.createElement(Grid,{item:true,xs:12,className:classes.quoteAccGuest},React.createElement(\"p\",null,\"\\\"Scan QR code from guests email and accept them opening link in QR code.\\\"\"),React.createElement(\"p\",null,\"More info\",React.createElement(\"span\",{className:classes.linkToAbout,onClick:function onClick(){history.push('/about');}},\"HERE\")))),React.createElement(Grid,{item:true,xs:12},React.createElement(\"p\",{className:classes.thisLine}),React.createElement(Typography,{component:\"div\",className:classes.lineHeader},\"SHARE\")),React.createElement(Grid,{item:true,xs:9},React.createElement(Grid,{container:true,justify:\"flex-end\"},React.createElement(TextField,{id:\"myInput\",className:classes.copyLink,fullWidth:true,variant:\"outlined\",value:\"https://www.charliehouseparty.club/play/\".concat(event._id)}))),React.createElement(Grid,{item:true,xs:3},React.createElement(Grid,{container:true,justify:\"center\"},React.createElement(Tooltip,{title:\"link copied\",PopperProps:{disablePortal:true},onClose:handleTooltipClose,open:openTooltip,disableFocusListener:true,disableHoverListener:true,disableTouchListener:true,placement:\"top\"},React.createElement(Button,{variand:\"outlined\",color:\"primary\",onClick:handleCopyLink},React.createElement(LinkIcon,null),\" copy Link \")))))));};var useStyles=makeStyles(function(theme){return{mainContainer:{paddingTop:5,paddingBottom:'0px',width:'100%'},blackBackContainer:{borderRadius:15,marginTop:20,marginBottom:20,padding:5,paddingTop:20,paddingBottom:20},separatorLineItem:{backgroundColor:\"rgba(129, 123,123,0.5)\",height:10,width:45,borderRadius:5},lineHeader:{paddingLeft:15,width:'100%',paddingTop:10,color:'#7E7B7B',textAlign:'left'},attendeesWrap:{minHeight:60},linkToAbout:{textDecoration:'underline',fontWeight:500},copyLink:{color:'white',backgroundColor:'rgba(255,255,255,0.2)',borderRadius:5,cursor:'copy'},quoteAccGuest:{padding:10},copyLinkSpan:{color:'primary',width:'100%',overflow:'hidden',whiteSpace:'nowrap',textOverflow:'ellipsis'},listRow:{width:'100%',marginTop:2,marginBottom:2,backgroundColor:\"rgba(255,255,255,0.05)\"},thisLine:{height:'1px',width:'80%',margin:0,marginTop:'2px',marginLeft:'10%',marginRight:'10%',backgroundColor:\"#707070\"},thisLineHeader:{height:'1px',width:'100%',marginTop:'2px',backgroundColor:\"#707070\"},mainHeader:{textAlign:\"center\",fontSize:30,fontWeight:600,padding:10},headerPrice:{fontSize:20},headerPerPerson:{fontSize:16,fontWeight:300},addressGreyWrap:{padding:10,paddingLeft:20,paddingRight:20},switchBYOWrap:{margin:10},addressGrey:{},timeDistanceWrap:{padding:10,paddingRight:20},timeDistance:{fontSize:16},descWrap:{padding:20},standardHeading:{width:'100%',fontWeight:500,// color: \"lightGrey\",\ntextAlign:'right',backgroundColor:\"rgba(255,255,255,0.05)\",padding:10,whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'},standardDescription:{fontWeight:500,fontSize:16,textAlign:'left',padding:10},standardContent:{width:'100%',fontWeight:400,textAlign:'left',color:'#29FFF7',padding:10,whiteSpace:'nowrap',overflow:'hidden',textOverflow:'ellipsis'},bookingMessInput:{backgroundColor:\"rgba(0,0,0,0.38)\",borderRadius:10,marginBottom:5}};});export default PlayPageList;","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Molecules/play/PlayPageList.js"],"names":["React","useContext","useState","Grid","Typography","FormControlLabel","Switch","Button","TextField","Tooltip","makeStyles","FacebookIcon","LinkIcon","clsx","useHistory","displayDate","useXsSize","UserContext","ListTopHalf","QRCodeEntering","PendingGuest","ConfirmedGuest","UserCardPlay","EnteredGuests","BookingMessages","BookingAcceptInput","PlayPageList","propContext","propSetContext","event","bookings","GQL_refetch","refetchVariables","cancelBooking","cancelledState","paddingSides","classes","useStyles","xs_size_memo","md_size_memo","context","setContext","openTooltip","setOpenTooltip","history","confBookings","filter","booking","confirmed","console","log","name","bgColor","handleTooltipClose","handleCopyLink","copyText","document","getElementById","select","setSelectionRange","execCommand","mainContainer","touchAction","paddingLeft","paddingRight","separatorLineItem","blackBackContainer","backgroundColor","descWrap","standardDescription","description","lineHeader","length","capacityMax","attendeesWrap","switchBYOWrap","BYO","author","areYouAuthor","map","decided","bookingMessInput","happeningNow","quoteAccGuest","linkToAbout","push","thisLine","copyLink","_id","disablePortal","theme","paddingTop","paddingBottom","width","borderRadius","marginTop","marginBottom","padding","height","color","textAlign","minHeight","textDecoration","fontWeight","cursor","copyLinkSpan","overflow","whiteSpace","textOverflow","listRow","margin","marginLeft","marginRight","thisLineHeader","mainHeader","fontSize","headerPrice","headerPerPerson","addressGreyWrap","addressGrey","timeDistanceWrap","timeDistance","standardHeading","standardContent"],"mappings":"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","sourcesContent":["import React, {useContext, useState} from \"react\"\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Switch from \"@material-ui/core/Switch\";\nimport Button from \"@material-ui/core/Button\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport FacebookIcon from '@material-ui/icons/Facebook';\nimport LinkIcon from '@material-ui/icons/Link';\n\nimport clsx from 'clsx'\nimport { useHistory } from \"react-router-dom\";\n\nimport { displayDate } from \"../../Services/transform-services\";\nimport { useXsSize } from \"src/Hooks/useXsSize\";\nimport { UserContext } from \"src/userContext\";\n\nimport ListTopHalf from \"src/Atoms/Play/ListTopHalf\";\nimport QRCodeEntering from \"src/Atoms/Play/QRCodeEntering\";\nimport PendingGuest from \"../event/PendingGuest\";\nimport ConfirmedGuest from \"../event/ConfirmedGuest\";\nimport UserCardPlay from \"./UserCardPlay\";\nimport EnteredGuests from \"src/Atoms/Play/EnteredGuests\";\nimport BookingMessages from \"src/Atoms/BookingMessages\";\nimport BookingAcceptInput from \"src/Atoms/BookingAcceptInput\";\n\nconst PlayPageList = ({propContext, propSetContext, event, bookings, GQL_refetch, refetchVariables, cancelBooking, cancelledState, paddingSides}) => {\n    const classes = useStyles();\n    const { xs_size_memo, md_size_memo } = useXsSize();\n    const {context, setContext} = useContext(UserContext)\n    const [openTooltip, setOpenTooltip] = useState(false);\n    let history = useHistory();\n    //Count confirmed \n    var confBookings = 0\n    if(bookings){\n      confBookings = bookings.filter(booking => {\n        if(booking.confirmed){\n          return true\n        }else{return false }\n      })\n    }\n    console.log(\"confBookings: \", confBookings, event.name)\n\n    let bgColor = \"transparent\"\n    if(md_size_memo){\n      bgColor = \"rgba(0,0,0,0.1)\"\n    } else {\n      bgColor = \"rgba(0,0,0,0.1)\"\n    }\n\n    const handleTooltipClose = () => {\n      setOpenTooltip(false);\n    };\n\n    const handleCopyLink = () => {\n      var copyText = document.getElementById(\"myInput\");\n      copyText.select();\n      copyText.setSelectionRange(0, 99999)\n      document.execCommand(\"copy\");\n      setOpenTooltip(true);\n    }\n\n    return(\n        <Grid\n        container\n        justify=\"flex-start\"\n        alignItems=\"flex-start\"\n        alignContent=\"flex-start\"\n        className={classes.mainContainer}\n        style={{touchAction: \"inherit\", \n                paddingLeft: paddingSides ? paddingSides : '20px',\n                paddingRight: paddingSides ? paddingSides : '20px'}}\n      >\n\n        <ListTopHalf event={event} context={propContext ? propContext : context}/>  {/* in case of rendering on map is Context passed as a prop to components */}\n\n        <Grid item xs={12}>\n            <Grid container alignItems=\"center\" justify=\"center\">\n              <Grid item className={classes.separatorLineItem}>\n              </Grid>\n            </Grid>\n        </Grid>\n\n        <Grid item xs={12} \n              className={classes.blackBackContainer}\n              style={{backgroundColor: bgColor }}>\n            <Grid container alignItems=\"center\">\n              <Grid item className={classes.descWrap}>\n                <Typography variant=\"subtitle1\" className={classes.standardDescription}>\n                {event.description}\n                </Typography>\n              </Grid>\n            </Grid>\n            <Grid container \n                  alignItems=\"center\"\n                  justify=\"flex-end\">\n              <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" className={classes.lineHeader}>\n                  ATTENDEES ({confBookings && confBookings.length}/{event.capacityMax})\n                </Typography>\n              </Grid>\n              <Grid item xs={10} className={classes.attendeesWrap}>\n                <ConfirmedGuest\n                  event={event}\n                  bookings={bookings}\n                  cancelBooking={cancelBooking}\n                  cancelledState={cancelledState}\n                  GQL_refetch={GQL_refetch}\n                  refetchVariables={refetchVariables}\n                />\n              </Grid>\n              <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" className={classes.lineHeader}>\n                BRING YOUR OWN DRINK/SNACK\n                </Typography>\n\n              </Grid>\n              <Grid item xs={10}>\n\n                  <FormControlLabel\n                      className={classes.switchBYOWrap}\n                      label={event.BYO ? \"YES you can\" : \"NO you can't\"}\n                      control={ <Switch checked={event.BYO} /> }\n                    />\n              </Grid>\n\n              <Grid item xs={12}>\n                <Typography variant=\"subtitle1\" className={classes.lineHeader}>\n                  AUTHOR\n                </Typography>\n              </Grid>\n              <Grid item xs={10} >\n                <UserCardPlay author={event.author} />\n              </Grid>\n\n              {event.areYouAuthor &&\n            <>\n              <Grid item xs={12}>\n                <Typography component=\"div\" className={classes.lineHeader}>\n                  PENDING\n                </Typography>\n              </Grid>\n              <Grid item xs={12}>\n                        <Grid container justify=\"center\">\n                              {bookings && bookings.map(booking => {\n                                console.log(\"Booking: \", booking)\n                                if (!booking.decided) {\n                                  return (\n                                    <Grid item className={classes.bookingMessInput}>\n                                        <BookingMessages booking={booking} />\n                                        <BookingAcceptInput booking={booking} />\n                                    </Grid>\n                                  );\n                                }\n                                return null;\n                              })}\n                              {bookings && bookings.length === 0 && <p>No pending guests</p>}\n                            {/* {bookingStates.loading && (\n                            <Grid container justify=\"center\" alignItems=\"center\" style={{width: \"100%\", height: 300}}>\n                              <Grid item>\n                                <Spinner height={100} width={100} />\n                              </Grid>\n                            </Grid>\n                            )} */}\n                        </Grid>\n              </Grid>\n              </>}\n              {event.happeningNow &&\n              <>\n                <Grid item xs={12}>\n                  <Typography component=\"div\" className={classes.lineHeader}>\n                    ENTERED guests\n                  </Typography>\n                </Grid>\n                <Grid item xs={12}>\n                  <EnteredGuests bookings={bookings} />\n                </Grid>\n                {event.areYouAuthor &&\n                <Grid item xs={12} className={classes.quoteAccGuest}>\n                  <p>\n                  \"Scan QR code from guests email and accept them opening link in QR code.\"\n                  </p>\n                  <p>More info \n                    <span className={classes.linkToAbout}\n                      onClick={() => {history.push('/about')}}>\n                      HERE\n                    </span>\n                  </p>\n                  {/* <QRCodeEntering bookings={bookings} /> */}\n                </Grid>\n                }\n              </>\n              }\n              <Grid item xs={12}>\n                <p className={classes.thisLine}></p>\n                <Typography component=\"div\" className={classes.lineHeader}> \n                  SHARE                  \n                </Typography>\n              </Grid>\n                <Grid item xs={9}>\n                  <Grid container justify=\"flex-end\">\n                    <TextField id=\"myInput\" className={classes.copyLink} fullWidth variant=\"outlined\" value={`https://www.charliehouseparty.club/play/${event._id}`} />\n                  </Grid>\n                </Grid>\n\n                <Grid item xs={3}>\n                  <Grid container justify=\"center\">\n                    <Tooltip \n                        title=\"link copied\" \n                        PopperProps={{\n                          disablePortal: true,\n                        }}\n                        onClose={handleTooltipClose}\n                        open={openTooltip}\n                        disableFocusListener\n                        disableHoverListener\n                        disableTouchListener\n                        placement=\"top\">\n                      <Button variand=\"outlined\" color=\"primary\" onClick={handleCopyLink}><LinkIcon /> copy Link </ Button>\n                    </Tooltip>\n                  </Grid>\n                </Grid>\n                \n\n            </Grid>\n        </Grid>\n      </Grid>\n    )\n}\n\nconst useStyles = makeStyles(theme => ({\n   \n    mainContainer:{\n        paddingTop: 5,\n        paddingBottom: '0px',\n        width: '100%',\n      },\n      blackBackContainer:{\n        borderRadius: 15,\n        marginTop: 20,\n        marginBottom: 20,\n        padding: 5,\n        paddingTop: 20,\n        paddingBottom: 20,\n      },\n\n      separatorLineItem:{\n        backgroundColor: \"rgba(129, 123,123,0.5)\",\n        height: 10,\n        width: 45,\n        borderRadius: 5\n      },\n\n      lineHeader:{\n        paddingLeft: 15,\n        width: '100%',\n        paddingTop: 10,\n        color: '#7E7B7B',\n        textAlign: 'left'\n      },\n      attendeesWrap:{\n        minHeight: 60,\n \n      },\n      linkToAbout: {\n        textDecoration: 'underline',\n        fontWeight: 500\n      },\n      copyLink: {\n        color: 'white',\n        backgroundColor: 'rgba(255,255,255,0.2)',\n        borderRadius: 5,\n        cursor: 'copy'\n      },\n      quoteAccGuest:{\n        padding: 10\n      },\n      copyLinkSpan: {\n        color: 'primary',\n        width: '100%',\n        overflow: 'hidden',\n        whiteSpace: 'nowrap',\n        textOverflow: 'ellipsis',\n      },\n      listRow:{\n        width: '100%',\n        marginTop: 2,\n        marginBottom: 2,\n        backgroundColor: \"rgba(255,255,255,0.05)\",\n      },\n      thisLine:{\n        height: '1px',\n        width: '80%',\n        margin: 0,\n        marginTop: '2px',\n        marginLeft: '10%',\n        marginRight: '10%',\n        backgroundColor: \"#707070\"\n      },\n      thisLineHeader:{\n        height: '1px',\n        width: '100%',\n        marginTop: '2px',\n        backgroundColor: \"#707070\"\n      },\n      mainHeader:{\n        textAlign: \"center\",\n        fontSize: 30,\n        fontWeight: 600,\n        padding: 10,\n      },\n      headerPrice:{\n        fontSize: 20,\n      },\n      headerPerPerson:{\n        fontSize: 16,\n        fontWeight: 300\n      },\n      addressGreyWrap:{\n        padding: 10,\n        paddingLeft: 20,\n        paddingRight: 20,\n      },\n      switchBYOWrap:{\n        margin: 10,\n      },\n      addressGrey:{\n      },\n      timeDistanceWrap:{\n        padding: 10,\n        paddingRight: 20\n      },\n      timeDistance:{\n        fontSize: 16,\n      },\n      descWrap:{\n        padding: 20\n      },\n      standardHeading: {\n        width: '100%',\n        fontWeight: 500,\n        // color: \"lightGrey\",\n        textAlign: 'right',\n        backgroundColor: \"rgba(255,255,255,0.05)\",\n        padding: 10,\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n      },\n      standardDescription: {\n        fontWeight: 500,\n        fontSize: 16,\n        textAlign: 'left',\n        padding: 10,\n      },\n      standardContent: {\n        width: '100%',\n        fontWeight: 400,\n        textAlign: 'left',\n        color: '#29FFF7',\n        padding: 10,\n        whiteSpace: 'nowrap',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n      },\n      bookingMessInput: {\n        backgroundColor: \"rgba(0,0,0,0.38)\",\n        borderRadius: 10,\n        marginBottom: 5\n      }\n  }));\n\nexport default PlayPageList"]},"metadata":{},"sourceType":"module"}