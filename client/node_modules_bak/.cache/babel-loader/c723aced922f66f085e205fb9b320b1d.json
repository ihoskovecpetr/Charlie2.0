{"ast":null,"code":"import _defineProperty from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _slicedToArray from\"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/slicedToArray\";function ownKeys(object,enumerableOnly){var keys=Object.keys(object);if(Object.getOwnPropertySymbols){var symbols=Object.getOwnPropertySymbols(object);if(enumerableOnly)symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable;});keys.push.apply(keys,symbols);}return keys;}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=arguments[i]!=null?arguments[i]:{};if(i%2){ownKeys(source,true).forEach(function(key){_defineProperty(target,key,source[key]);});}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(target,Object.getOwnPropertyDescriptors(source));}else{ownKeys(source).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key));});}}return target;}import React,{useState,useMemo,useEffect}from\"react\";import\"./App.css\";import{Switch,Route,NavLink,Redirect,useHistory,BrowserRouter as Router}from\"react-router-dom\";import Drawer from\"@material-ui/core/Drawer\";import Hidden from\"@material-ui/core/Hidden\";import CssBaseline from\"@material-ui/core/CssBaseline\";import Snackbar from'@material-ui/core/Snackbar';import CloseIcon from'@material-ui/icons/Close';import Button from\"@material-ui/core/Button\";import IconButton from\"@material-ui/core/IconButton\";import{makeStyles}from\"@material-ui/core/styles\";import{createMuiTheme}from\"@material-ui/core/styles\";import{ThemeProvider}from\"@material-ui/core/styles\";import gql from\"graphql-tag\";import{useMutation}from\"@apollo/react-hooks\";import{useXsSize}from\"./Hooks/useXsSize\";import UpperStripe from\"./Atoms/UpperStripe\";import DrawerContent from\"./Atoms/UpperStripeAndDrawer/DrawerContent\";import WindowEventSnackbar from\"./Atoms/WindowEventSnackbar\";import{UserContext}from\"./userContext\";import{usePosition}from\"./Hooks/useGeolocation\";import{GET_LOGGED_IN_USER}from\"src/Services/GQL/GET_LOGGED_IN_USER\";// import { useWindowSize } from \"./Hooks/useWindowSize\";\nimport Menu from\"./Pages/Menu\";import SignIn from\"./Pages/SignIn\";import SignUp from\"./Pages/SignUp\";import SignOut from\"./Pages/SignOut\";import Create from\"./Pages/Create\";import MapWrap from\"./Pages/MapWrap\";import Event from\"./Pages/Event\";import Profile from\"./Pages/Profile\";import About from\"./Pages/About\";import UserModal from\"./Pages/UserModal\";import Play from\"./Pages/Play\";import PlayOutside from\"./Pages/PlayOutside\";import AcceptPage from\"./Pages/AcceptPage\";import Search from\"./Pages/SearchPage\";import Privacy from\"./Pages/PrivacyPage\";import FloatingBtnWrap from\"./Molecules/FloatingBtnWrap\";var drawerWidth=240;var prevLocation;function App(_ref){var location=_ref.location,container=_ref.container;var history=useHistory();var _useXsSize=useXsSize(),md_size_memo=_useXsSize.md_size_memo;console.log(\"App.js rErEnDeR, conteiner: \",location,container);var _usePosition=usePosition(),latitude=_usePosition.latitude,longitude=_usePosition.longitude,address=_usePosition.address,err=_usePosition.err;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),mobileOpen=_useState2[0],setMobileOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),finishedAnimation=_useState4[0],setFinishedAnimation=_useState4[1];var _useState5=useState({firstPrint:false,Modal:false,justGoBack:false}),_useState6=_slicedToArray(_useState5,2),routerState=_useState6[0],setRouterState=_useState6[1];var _useState7=useState({date:new Date().toISOString().split(\"T\")[0],geometry:null,zoom:10}),_useState8=_slicedToArray(_useState7,2),workingPosition=_useState8[0],setWorkingPosition=_useState8[1];var _useMutation=useMutation(GET_LOGGED_IN_USER),_useMutation2=_slicedToArray(_useMutation,2),_getLoggedInUser=_useMutation2[0],_useMutation2$=_useMutation2[1],loading=_useMutation2$.loading,error=_useMutation2$.error,data=_useMutation2$.data;//Overriding default styles in Material UI\nvar theme=createMuiTheme({overrides:{MuiTab:{root:{color:md_size_memo?'white !important':'black !important',fontWeight:600}},PrivateTabIndicator:{root:{backgroundColor:'grey !important'}}},palette:{violetova:\"#600328\",darkGrey:\"#242323\",charliePink:\"#E8045D\",contrastThreshold:3,// Used to shift a color's luminance by approximately\n// two indexes within its tonal palette.\n// E.g., shift from Red 500 to Red 300 or Red 700.\ntonalOffset:0.2,success:{main:\"#E8045D\"},info:{main:\"#600328\"},warning:{main:\"#242323\"}}});var useStyles=makeStyles(function(theme){return{drawer:_defineProperty({},theme.breakpoints.up(\"sm\"),{width:0,flexShrink:0}),toolbar:theme.mixins.toolbar,drawerPaper:{width:drawerWidth},content:{height:\"100vh\",// height: `${1*windowSize.height}px`,\nposition:location.pathname.split(\"/\")[1]===\"map\"?\"fixed\":null,width:\"100%\",backgroundColor:\"#F8F8F8\"// overflow: \"scroll\"\n}};});var classes=useStyles();var _useState9=useState({success:false,name:false,_id:null,email:null,picture:null,description:null,geolocationObj:null,curPositionAddress:null,countUnseenBookings:0,countUnseenRatings:0,getLoggedInUser:function getLoggedInUser(){return _getLoggedInUser();},setUserToContext:function setUserToContext(){return _setUserToContext();},deleteToken:function deleteToken(){return window.localStorage.setItem(\"token\",\"_deleted_\");},openDrawer:true,freezScroll:false,rememberSignIn:false,expanded_id:null,playFilterObj:{filterOn:true,geolocationPlay:null,playEventsCount:null,radius:20,plusDays:2,shownEvents:[]}}),_useState10=_slicedToArray(_useState9,2),contx=_useState10[0],setContx=_useState10[1];console.log(\"Rerendering whole App cntx: \",contx);var _setUserToContext=function _setUserToContext(userObj){console.log(\"setUserToContext: \",userObj);if(userObj){setContx(function(prev){return _objectSpread({},prev,{_id:userObj._id,success:userObj.success,name:userObj.name,email:userObj.email,picture:userObj.picture,description:userObj.description,rememberSignIn:true});});}};// useEffect(() => {\n//   // getLoggedInUser();\n//   navigator.geolocation.getCurrentPosition(function(position) {\n//     console.log(\"Found lokaci: \", position.coords.latitude)\n//     setContext(prev => {return {...prev, geolocationObj: {lat: position.coords.latitude, lng: position.coords.longitude}}});\n// });\n// });\nuseEffect(function(){if(location.pathname.split(\"/\")[1]===\"play\"&&!window.firstPrintPlay){window.firstPrintPlay=\"play\";}else{window.firstPrintPlay=\"else\";}},[location.pathname]);useEffect(function(){_getLoggedInUser();prevLocation=location;// firstLocation = location.pathname.split(\"/\")[1];\n// if(location.pathname.split(\"/\")[1] === \"play\"){\n//   console.log(\"Setting FPnt: true\")\n//   setUser(prev => {\n//   return { ...prev, firstPrint: true };\n// });\n// }\n},[]);// if (data) {\nuseEffect(function(){if(data&&data.getLoggedInUser){// setContx(prev => {return {\n//   ...prev,\n//   _id: data.getLoggedInUser._id,\n//   success: data.getLoggedInUser.success,\n//   name: data.getLoggedInUser.name,\n//   email: data.getLoggedInUser.email,\n//   picture: data.getLoggedInUser.picture,\n//   description: data.getLoggedInUser.description,\n// }});\nconsole.log(\"Calling setUserToContext from App\");_setUserToContext(data.getLoggedInUser);}},[data]);// }\nuseEffect(function(){if(latitude&&longitude&&!contx.geolocationObj){console.log(\"Context. setting Geolocation Obj: \",latitude,longitude);setContx(function(prev){return _objectSpread({},prev,{geolocationObj:{lat:latitude,lng:longitude},playFilterObj:_objectSpread({},prev.playFilterObj,{geolocationPlay:{lat:latitude,lng:longitude}})});});}},[latitude,longitude]);useEffect(function(){if(!contx.curPositionAddress){console.log(\"Context. setting ADDRESS: \",address);setContx(function(prev){return _objectSpread({},prev,{curPositionAddress:address});});}},[address]);var providerValue=useMemo(function(){var context=contx;var setContext=setContx;return{context:context,setContext:setContext};},[contx,setContx]);var handleDrawerToggle=function handleDrawerToggle(){if(!window.eventId){setMobileOpen(!mobileOpen);}};var ListOfUrls=contx.success?[\"\",\"play\",\"create\",\"map\",\"about\",\"search\",\"privacy-policy\",\"signout\",\"user\",\"profile\",\"accept\"]:[\"\",\"play\",\"create\",\"map\",\"about\",\"search\",\"privacy-policy\",\"signin\",\"user\",\"signup\",\"accept\"];// Just for DRAWER and NavigationHeader (UpperStripe)\nvar ListOfNames=contx.success?[\"Charlie\",\"Play\",\"Create\",\"Map\",\"About\",\"Sign Out\"]:[\"Charlie\",\"Play\",\"Create\",\"Map\",\"About\",\"Sign In\"];var ListOfComponents=contx.success?[React.createElement(Menu,{ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,finishedAnimation:finishedAnimation,setFinishedAnimation:setFinishedAnimation}),React.createElement(Play,null),React.createElement(Create,null),//create\nReact.createElement(MapWrap,{workingPosition:workingPosition,setWorkingPosition:setWorkingPosition}),//Map\nReact.createElement(About,null),React.createElement(Search,null),React.createElement(Privacy,null),React.createElement(SignOut,null),React.createElement(UserModal,null),React.createElement(Profile,null)]:[React.createElement(Menu,{ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,finishedAnimation:finishedAnimation,setFinishedAnimation:setFinishedAnimation}),React.createElement(Play,null),React.createElement(Create,null),React.createElement(MapWrap,{workingPosition:workingPosition,setWorkingPosition:setWorkingPosition}),React.createElement(About,null),React.createElement(Search,null),React.createElement(Privacy,null),React.createElement(SignIn,null),React.createElement(UserModal,null),React.createElement(SignUp,null)];var returnComponent=function returnComponent(index){return React.createElement(React.Fragment,null,React.createElement(CssBaseline,null),ListOfComponents[index]);};var firstPrint=false;var Modal=false;var justGoBack=false;useEffect(function(){console.log(\"App Location props rerendered: \",location);firstPrint=false;Modal=false;justGoBack=false;var pathSet=location.pathname.split(\"/\");if(pathSet[1]==\"event\"||pathSet[1]==\"user\"||pathSet[1]==\"signin\"||pathSet[1]==\"signout\"){Modal=true;}if(!Modal){prevLocation=location;}if(prevLocation==location){firstPrint=true;}if(location&&location.state&&location.state.justGoBack==true){justGoBack=true;}console.log(\"Modal, justGoBack, firstPrint \",Modal,justGoBack,firstPrint);console.log(\" PrevLocation, location \",prevLocation,location);setRouterState({Modal:Modal,justGoBack:justGoBack,firstPrint:firstPrint});},[location]);return React.createElement(ThemeProvider,{theme:theme},React.createElement(UserContext.Provider,{value:providerValue},React.createElement(React.Fragment,null,React.createElement(Hidden,{smUp:true,implementation:\"css\"},React.createElement(Drawer,{container:container,variant:\"temporary\",anchor:theme.direction===\"rtl\"?\"right\":\"left\",open:mobileOpen,onClose:handleDrawerToggle,classes:{paper:classes.drawerPaper},ModalProps:{keepMounted:true// Better open performance on mobile.\n}},React.createElement(DrawerContent,{ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}))),React.createElement(WindowEventSnackbar,null)),routerState.firstPrint&&routerState.Modal&&React.createElement(React.Fragment,null,React.createElement(Route,{exact:true,path:\"/event/:id\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe//bringOwnUser?? true??\n,{loading:loading,userApp:false,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(Event,null)));}}),React.createElement(Route,{exact:true,path:\"/user/:id\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe//bringOwnUser?? true??\n,{loading:loading,userApp:false,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(UserModal,null)));}}),React.createElement(Route,{exact:true,path:\"/signin\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe//bringOwnUser?? true??\n,{loading:loading,userApp:false,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(SignIn,null)));}}),React.createElement(Route,{exact:true,path:\"/signout\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe//bringOwnUser?? true??\n,{loading:loading,userApp:false,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(SignOut,null)));}})),!routerState.firstPrint&&routerState.Modal&&React.createElement(React.Fragment,null,React.createElement(Route,{exact:true,path:\"/event/:id\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(Event,null));}}),React.createElement(Route,{exact:true,path:\"/user/:id\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UserModal,null));}}),React.createElement(Route,{exact:true,path:\"/signin\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(SignIn,null));}}),React.createElement(Route,{exact:true,path:\"/signout\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(SignOut,null));}}),React.createElement(Switch,{location:prevLocation},ListOfUrls.map(function(text,index){return React.createElement(Route,{exact:true,path:\"/\".concat(text),key:index,render:function render(){return React.createElement(React.Fragment,null,text!=\"play\"&&React.createElement(UpperStripe,{loading:loading,userApp:contx,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),returnComponent(index)));}});}),React.createElement(Route,{path:\"/\",key:\"xc\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe,{loading:loading,userApp:contx,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(Menu,{ListOfNames:ListOfNames,ListOfUrls:ListOfUrls}),\",\"));}}))),!routerState.Modal&&window.firstPrintPlay!=\"play\"&&React.createElement(React.Fragment,null,React.createElement(Switch,{location:prevLocation},React.createElement(Route,{exact:true,path:\"/map\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe,{loading:loading,userApp:contx,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),contx.name?React.createElement(MapWrap,{workingPosition:workingPosition,setWorkingPosition:setWorkingPosition}):React.createElement(SignIn,null)));}}),React.createElement(Route,{exact:true,path:\"/play/:id\",key:\"index\",render:function render(){return React.createElement(React.Fragment,null,window.firstPrintPlay!=\"play\"&&React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),returnComponent(1)),\")\");}}),React.createElement(Route,{exact:true,path:\"/play\",key:\"index\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),returnComponent(1)));}}),React.createElement(Route,{exact:true,path:\"/event/:id\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(Event,null)));}}),React.createElement(Route,{exact:true,path:\"/accept/:event_id/:user_id\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe,{loading:loading,userApp:contx,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(AcceptPage,null)));}}),ListOfUrls.map(function(text,index){return React.createElement(Route,{exact:true,path:\"/\".concat(text),key:index,render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe,{loading:loading,userApp:contx,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),returnComponent(index)));}});}),React.createElement(Route,{path:\"/\",key:\"xc\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(UpperStripe,{loading:loading,userApp:contx,ListOfNames:ListOfNames,ListOfUrls:ListOfUrls,handleDrawerToggle:handleDrawerToggle,drawerWidth:drawerWidth}),React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(Menu,{ListOfNames:ListOfNames,ListOfUrls:ListOfUrls}),\",\"));}})),React.createElement(FloatingBtnWrap,null)),!routerState.Modal&&window.firstPrintPlay===\"play\"&&React.createElement(React.Fragment,null,React.createElement(Route,{exact:true,path:\"/play/:id\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(PlayOutside,null)));}}),React.createElement(Route,{exact:true,path:\"/play\",render:function render(){return React.createElement(React.Fragment,null,React.createElement(\"main\",{className:classes.content},React.createElement(\"div\",{className:classes.toolbar}),React.createElement(Play,null)));}}))));}function AppWrap(){return React.createElement(Router,null,React.createElement(Route,{component:function component(props2){return React.createElement(App,props2);}}));}export default AppWrap;","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/App.js"],"names":["React","useState","useMemo","useEffect","Switch","Route","NavLink","Redirect","useHistory","BrowserRouter","Router","Drawer","Hidden","CssBaseline","Snackbar","CloseIcon","Button","IconButton","makeStyles","createMuiTheme","ThemeProvider","gql","useMutation","useXsSize","UpperStripe","DrawerContent","WindowEventSnackbar","UserContext","usePosition","GET_LOGGED_IN_USER","Menu","SignIn","SignUp","SignOut","Create","MapWrap","Event","Profile","About","UserModal","Play","PlayOutside","AcceptPage","Search","Privacy","FloatingBtnWrap","drawerWidth","prevLocation","App","location","container","history","md_size_memo","console","log","latitude","longitude","address","err","mobileOpen","setMobileOpen","finishedAnimation","setFinishedAnimation","firstPrint","Modal","justGoBack","routerState","setRouterState","date","Date","toISOString","split","geometry","zoom","workingPosition","setWorkingPosition","getLoggedInUser","loading","error","data","theme","overrides","MuiTab","root","color","fontWeight","PrivateTabIndicator","backgroundColor","palette","violetova","darkGrey","charliePink","contrastThreshold","tonalOffset","success","main","info","warning","useStyles","drawer","breakpoints","up","width","flexShrink","toolbar","mixins","drawerPaper","content","height","position","pathname","classes","name","_id","email","picture","description","geolocationObj","curPositionAddress","countUnseenBookings","countUnseenRatings","setUserToContext","deleteToken","window","localStorage","setItem","openDrawer","freezScroll","rememberSignIn","expanded_id","playFilterObj","filterOn","geolocationPlay","playEventsCount","radius","plusDays","shownEvents","contx","setContx","userObj","prev","firstPrintPlay","lat","lng","providerValue","context","setContext","handleDrawerToggle","eventId","ListOfUrls","ListOfNames","ListOfComponents","returnComponent","index","pathSet","state","direction","paper","keepMounted","map","text","AppWrap","props2"],"mappings":"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","sourcesContent":["import React, { useState, useMemo, useEffect } from \"react\";\nimport \"./App.css\";\nimport {\n  Switch,\n  Route,\n  NavLink,\n  Redirect,\n  useHistory,\n  BrowserRouter as Router\n} from \"react-router-dom\";\nimport PropTypes from \"prop-types\";\n\nimport Drawer from \"@material-ui/core/Drawer\";\nimport Hidden from \"@material-ui/core/Hidden\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Snackbar from '@material-ui/core/Snackbar';\nimport CloseIcon from '@material-ui/icons/Close';\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\n\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { createMuiTheme } from \"@material-ui/core/styles\";\nimport { ThemeProvider } from \"@material-ui/core/styles\";\n\nimport gql from \"graphql-tag\";\nimport { useMutation } from \"@apollo/react-hooks\";\nimport { useXsSize } from \"./Hooks/useXsSize\";\n\nimport UpperStripe from \"./Atoms/UpperStripe\";\nimport DrawerContent from \"./Atoms/UpperStripeAndDrawer/DrawerContent\";\nimport WindowEventSnackbar from \"./Atoms/WindowEventSnackbar\";\n\nimport { UserContext } from \"./userContext\";\nimport { usePosition } from \"./Hooks/useGeolocation\";\nimport { GET_LOGGED_IN_USER } from \"src/Services/GQL/GET_LOGGED_IN_USER\";\n\n// import { useWindowSize } from \"./Hooks/useWindowSize\";\n\nimport Menu from \"./Pages/Menu\";\nimport SignIn from \"./Pages/SignIn\";\nimport SignUp from \"./Pages/SignUp\";\nimport SignOut from \"./Pages/SignOut\";\nimport Create from \"./Pages/Create\";\nimport MapWrap from \"./Pages/MapWrap\";\nimport Event from \"./Pages/Event\";\nimport Profile from \"./Pages/Profile\";\nimport About from \"./Pages/About\";\nimport UserModal from \"./Pages/UserModal\";\nimport Play from \"./Pages/Play\";\nimport PlayOutside from \"./Pages/PlayOutside\";\nimport AcceptPage from \"./Pages/AcceptPage\"\nimport Search from \"./Pages/SearchPage\"\nimport Privacy from \"./Pages/PrivacyPage\"\nimport FloatingBtnWrap from \"./Molecules/FloatingBtnWrap\";\n\n\nconst drawerWidth = 240;\nlet prevLocation;\n\nfunction App({location, container}) {\n  let history = useHistory();\n  const { md_size_memo } = useXsSize();\n  console.log(\"App.js rErEnDeR, conteiner: \", location, container)\n  const { latitude, longitude, address, err } = usePosition();\n  const [mobileOpen, setMobileOpen] = useState(false);\n  const [finishedAnimation, setFinishedAnimation] = useState(false);\n  const [routerState, setRouterState] = useState({ \n    firstPrint: false,\n    Modal: false,\n    justGoBack: false\n  });\n  const [workingPosition, setWorkingPosition] = useState({\n    date: new Date().toISOString().split(\"T\")[0],\n    geometry: null,\n    zoom: 10,\n  });\n  const [getLoggedInUser, { loading, error, data }] = useMutation(GET_LOGGED_IN_USER);\n\n  //Overriding default styles in Material UI\n  const theme = createMuiTheme({\n    overrides: {\n      MuiTab: {\n        root: {\n          color: md_size_memo ? 'white !important' : 'black !important',\n          fontWeight: 600\n        },\n      },\n      PrivateTabIndicator: {\n        root: {\n          backgroundColor: 'grey !important',\n        },\n      },\n    },\n    palette: {\n      violetova: \"#600328\",\n      darkGrey: \"#242323\",\n      charliePink: \"#E8045D\",\n      contrastThreshold: 3,\n      // Used to shift a color's luminance by approximately\n      // two indexes within its tonal palette.\n      // E.g., shift from Red 500 to Red 300 or Red 700.\n      tonalOffset: 0.2,\n      success: {\n        main: \"#E8045D\"\n      },\n      info: {\n        main: \"#600328\"\n      },\n      warning: {\n        main: \"#242323\"\n      }\n    }\n  });\n\n  const useStyles = makeStyles(theme => ({\n\n    drawer: {\n      [theme.breakpoints.up(\"sm\")]: {\n        width: 0,\n        flexShrink: 0\n      }\n    },\n    toolbar: theme.mixins.toolbar,\n    drawerPaper: {\n      width: drawerWidth\n    },\n    content: {\n      height: \"100vh\",\n      // height: `${1*windowSize.height}px`,\n      position: location.pathname.split(\"/\")[1] === \"map\" ? \"fixed\" : null,\n      width: \"100%\",\n      backgroundColor: \"#F8F8F8\",\n      // overflow: \"scroll\"\n    }\n  }));\n\n  const classes = useStyles();\n\n  const [contx, setContx] = useState({\n    success: false,\n    name: false,\n    _id: null,\n    email: null,\n    picture: null,\n    description: null,\n    geolocationObj: null,\n    curPositionAddress: null,\n    countUnseenBookings: 0,\n    countUnseenRatings: 0,\n    getLoggedInUser: () => getLoggedInUser(),\n    setUserToContext: () => setUserToContext(),\n    deleteToken: () => window.localStorage.setItem(\"token\", \"_deleted_\"),\n\n    openDrawer: true,\n    freezScroll: false,\n    rememberSignIn: false,\n    expanded_id: null,\n    playFilterObj: {\n      filterOn: true,\n      geolocationPlay: null,\n      playEventsCount: null,\n      radius: 20,\n      plusDays: 2,\n      shownEvents: [],\n    },  \n  });\n\n  console.log(\"Rerendering whole App cntx: \", contx);\n\n\n  const setUserToContext = (userObj) => {\n    console.log(\"setUserToContext: \", userObj)\n    if(userObj){\n          setContx(prev => {return {\n          ...prev,\n          _id: userObj._id,\n          success: userObj.success,\n          name: userObj.name,\n          email: userObj.email,\n          picture: userObj.picture,\n          description: userObj.description,\n          rememberSignIn: true,\n        }}\n        );\n    }\n  }\n\n  // useEffect(() => {\n  //   // getLoggedInUser();\n  //   navigator.geolocation.getCurrentPosition(function(position) {\n  //     console.log(\"Found lokaci: \", position.coords.latitude)\n  //     setContext(prev => {return {...prev, geolocationObj: {lat: position.coords.latitude, lng: position.coords.longitude}}});\n  // });\n  // });\n\n  useEffect(() => {\n\n    if(location.pathname.split(\"/\")[1] === \"play\" && !window.firstPrintPlay){\n      window.firstPrintPlay = \"play\"\n    }else{\n      window.firstPrintPlay = \"else\"\n    }\n  }, [location.pathname]);\n\n  useEffect(() => {\n\n    getLoggedInUser();\n    prevLocation = location;\n    // firstLocation = location.pathname.split(\"/\")[1];\n    // if(location.pathname.split(\"/\")[1] === \"play\"){\n    //   console.log(\"Setting FPnt: true\")\n    //   setUser(prev => {\n    //   return { ...prev, firstPrint: true };\n    // });\n    // }\n\n  }, []);\n\n\n\n  // if (data) {\n    useEffect(() => {\n      if (data && data.getLoggedInUser) {\n\n        // setContx(prev => {return {\n        //   ...prev,\n        //   _id: data.getLoggedInUser._id,\n        //   success: data.getLoggedInUser.success,\n        //   name: data.getLoggedInUser.name,\n        //   email: data.getLoggedInUser.email,\n        //   picture: data.getLoggedInUser.picture,\n        //   description: data.getLoggedInUser.description,\n        // }});\n        console.log(\"Calling setUserToContext from App\")\n        setUserToContext(data.getLoggedInUser)\n      }\n    }, [data]);\n\n  // }\n  useEffect(() => {\n  if (latitude && longitude && !contx.geolocationObj) {\n    console.log(\"Context. setting Geolocation Obj: \", latitude ,longitude)\n    setContx(prev => {\n      return { \n        ...prev, \n        geolocationObj: { lat: latitude, lng: longitude },\n        playFilterObj: {\n          ...prev.playFilterObj,\n          geolocationPlay: { lat: latitude, lng: longitude },\n        }, \n      };\n    });\n  }\n  }, [latitude, longitude])\n\n  useEffect(() => {\n    if (!contx.curPositionAddress) {\n      console.log(\"Context. setting ADDRESS: \", address)\n      setContx(prev => {\n        return { ...prev, curPositionAddress: address };\n      });\n      }\n    }, [address])\n\n  const providerValue = useMemo(() => {\n    let context = contx\n    let setContext = setContx\n    return { context, setContext };\n  }, [contx, setContx]);\n\n  const handleDrawerToggle = () => {\n    if(!window.eventId){\n      setMobileOpen(!mobileOpen);\n    } \n  };\n\n  const ListOfUrls = contx.success\n    ? [\"\", \"play\", \"create\", \"map\", \"about\", \"search\", \"privacy-policy\", \"signout\", \"user\", \"profile\", \"accept\"]\n    : [\"\", \"play\", \"create\", \"map\", \"about\", \"search\", \"privacy-policy\", \"signin\", \"user\", \"signup\", \"accept\"];\n\n    // Just for DRAWER and NavigationHeader (UpperStripe)\n  const ListOfNames = contx.success\n    ? [\"Charlie\", \"Play\", \"Create\", \"Map\", \"About\", \"Sign Out\"]\n    : [\"Charlie\", \"Play\", \"Create\", \"Map\", \"About\", \"Sign In\"];\n  const ListOfComponents = contx.success\n    ? [\n        <Menu\n          ListOfNames={ListOfNames}\n          ListOfUrls={ListOfUrls}\n          finishedAnimation={finishedAnimation}\n          setFinishedAnimation={setFinishedAnimation}\n        />,\n        <Play />,\n        <Create />, //create\n        <MapWrap\n          workingPosition={workingPosition}\n          setWorkingPosition={setWorkingPosition}\n        />, //Map\n        <About />,\n        <Search />,\n        <Privacy />,\n        <SignOut />,\n        <UserModal />,\n        <Profile />,\n      ]\n    : [\n        <Menu\n          ListOfNames={ListOfNames}\n          ListOfUrls={ListOfUrls}\n          finishedAnimation={finishedAnimation}\n          setFinishedAnimation={setFinishedAnimation}\n        />,\n        <Play />,\n        <Create />,\n        <MapWrap\n          workingPosition={workingPosition}\n          setWorkingPosition={setWorkingPosition}\n        />,\n        <About />,\n        <Search />,\n        <Privacy />,\n        <SignIn />,\n        <UserModal />,\n        <SignUp />\n      ];\n   \n  const returnComponent = index => {\n    return <>\n            <CssBaseline />\n            {ListOfComponents[index]}\n          </>;\n  };\n\n  let firstPrint = false;\n  let Modal = false;\n  let justGoBack = false;\n\nuseEffect(() => {\n\n  console.log(\"App Location props rerendered: \", location)\n\n  firstPrint = false;\n  Modal = false;\n  justGoBack = false;\n  var pathSet = location.pathname.split(\"/\");\n\n  if (\n    pathSet[1] == \"event\" ||\n    pathSet[1] == \"user\" ||\n    pathSet[1] == \"signin\" ||\n    pathSet[1] == \"signout\"\n  ) {\n    Modal = true;\n  }\n\n  if (!Modal) {\n    prevLocation = location;\n  }\n\n  if (prevLocation == location) {\n    firstPrint = true;\n  }\n\n  if (\n    location &&\n    location.state &&\n    location.state.justGoBack == true\n  ) {\n    justGoBack = true;\n  }\n\n  console.log(\"Modal, justGoBack, firstPrint \", Modal, justGoBack, firstPrint)\n  console.log(\" PrevLocation, location \", prevLocation, location)\n\n  setRouterState({\n    Modal: Modal,\n    justGoBack: justGoBack,\n    firstPrint: firstPrint \n  })\n\n}, [location])\n \n  return (\n      <ThemeProvider theme={theme}>\n        <UserContext.Provider value={providerValue}>\n          <>\n            {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n            <Hidden smUp implementation=\"css\">\n              <Drawer\n                container={container}\n                variant=\"temporary\"\n                anchor={theme.direction === \"rtl\" ? \"right\" : \"left\"}\n                open={mobileOpen}\n                onClose={handleDrawerToggle}\n                classes={{\n                  paper: classes.drawerPaper\n                }}\n                ModalProps={{\n                  keepMounted: true // Better open performance on mobile.\n                }}\n              >\n                  <DrawerContent\n                  ListOfNames={ListOfNames} \n                  ListOfUrls={ListOfUrls} \n                  handleDrawerToggle={handleDrawerToggle}\n                  drawerWidth={drawerWidth}\n                   />\n              </Drawer>\n            </Hidden>\n\n          <WindowEventSnackbar />\n\n          </>\n          {routerState.firstPrint && routerState.Modal && (\n            <>\n              <Route\n                exact\n                path={`/event/:id`}\n                render={() => (\n                  <>\n                    <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <Event />\n                    </main>\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/user/:id`}\n                render={() => (\n                  <>\n                    <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <UserModal />\n                    </main>\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/signin`}\n                render={() => (\n                  <>\n                    <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <SignIn />\n                    </main>\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/signout`}\n                render={() => (\n                  <>\n                    <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <SignOut />\n                    </main>\n                  </>\n                )}\n              />\n            </>\n          )}\n          {!routerState.firstPrint && routerState.Modal && (\n            <>\n              <Route\n                exact\n                path={`/event/:id`}\n                render={() => (\n                  <>\n                    <Event />\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/user/:id`}\n                render={() => (\n                  <>\n                    <UserModal />\n                  </>\n                )}\n              />\n              <Route\n                exact\n                path={`/signin`}\n                render={() => {\n                  return (\n                    <>\n                      <SignIn />\n                    </>\n                  );\n                }}\n              />\n              <Route\n                exact\n                path={`/signout`}\n                render={() => (\n                  <>\n                    <SignOut />\n                  </>\n                )}\n              />\n\n              <Switch location={prevLocation}>\n                {ListOfUrls.map((text, index) => (\n                  <Route\n                    exact\n                    path={`/${text}`}\n                    key={index}\n                    render={() => (\n                      <>\n                      {text != \"play\" && <UpperStripe\n                          loading={loading}\n                          userApp={contx}\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                          handleDrawerToggle={handleDrawerToggle}\n                          drawerWidth={drawerWidth}\n                        />\n                      }\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {returnComponent(index)}\n                        </main>\n                      </>\n                    )}\n                  />\n                ))}\n\n                <Route\n                  path={`/`}\n                  key={\"xc\"}\n                  render={() => (\n                    <>\n                    <UpperStripe\n                        loading={loading}\n                        userApp={contx}\n                        ListOfNames={ListOfNames}\n                        ListOfUrls={ListOfUrls}\n                        handleDrawerToggle={handleDrawerToggle}\n                        drawerWidth={drawerWidth}\n                      />\n                      <main className={classes.content}>\n                        <div className={classes.toolbar} />\n                        <Menu\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                        />\n                        ,\n                      </main>\n                    </>\n                  )}\n                />\n              </Switch>\n            </>\n          )}\n          {!routerState.Modal && window.firstPrintPlay != \"play\" && (\n            <>\n              <Switch location={prevLocation}>\n              <Route\n                    exact\n                    path={`/map`}\n                    render={() => (\n                      <>\n                      <UpperStripe\n                          loading={loading}\n                          userApp={contx}\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                          handleDrawerToggle={handleDrawerToggle}\n                          drawerWidth={drawerWidth}\n                        />\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {contx.name ? <MapWrap\n                               workingPosition={workingPosition}\n                               setWorkingPosition={setWorkingPosition} /> \n                               : <SignIn />}\n                        </main>\n                      </>\n                    )}\n                  />\n              <Route\n                    exact\n                    path={`/play/:id`}\n                    key={\"index\"}\n                    render={() => (\n                      <>\n                      {window.firstPrintPlay != \"play\" && (\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {returnComponent(1)}\n                        </main>\n                      )}\n                      )\n                      </>\n                    )}\n                  />\n              <Route\n                    exact\n                    path={`/play`}\n                    key={\"index\"}\n                    render={() => (\n                      <>\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {returnComponent(1)}\n                        </main>\n                      </>\n                    )}\n                  />\n              <Route\n                exact\n                path={`/event/:id`}\n                render={() => (\n                  <>\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <Event />\n                    </main>\n                  </>\n                )}\n              />\n            <Route\n                exact\n                path={`/accept/:event_id/:user_id`}\n                render={() => (\n                  <>\n                  <UpperStripe\n                          loading={loading}\n                          userApp={contx}\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                          handleDrawerToggle={handleDrawerToggle}\n                          drawerWidth={drawerWidth}\n                        />\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <AcceptPage />\n                    </main>\n                  </>\n                )}\n              />\n                {ListOfUrls.map((text, index) => (\n                  <Route\n                    exact\n                    path={`/${text}`}\n                    key={index}\n                    render={() => (\n                      <>\n                        <UpperStripe\n                          loading={loading}\n                          userApp={contx}\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                          handleDrawerToggle={handleDrawerToggle}\n                          drawerWidth={drawerWidth}\n                        />\n                        <main className={classes.content}>\n                          <div className={classes.toolbar} />\n                          {returnComponent(index)}\n                        </main>\n                      </>\n                    )}\n                  />\n                ))}\n                <Route\n                  path={`/`}\n                  key={\"xc\"}\n                  render={() => (\n                    <>\n                      <UpperStripe\n                        loading={loading}\n                        userApp={contx}\n                        ListOfNames={ListOfNames}\n                        ListOfUrls={ListOfUrls}\n                        handleDrawerToggle={handleDrawerToggle}\n                        drawerWidth={drawerWidth}\n                      />\n                      <main className={classes.content}>\n                        <div className={classes.toolbar} />\n                        <Menu\n                          ListOfNames={ListOfNames}\n                          ListOfUrls={ListOfUrls}\n                        />\n                        ,\n                      </main>\n                    </>\n                  )}\n                />\n              </Switch>\n              <FloatingBtnWrap />\n            </>\n          )}\n          {!routerState.Modal && window.firstPrintPlay === \"play\" && (\n            <>\n            <Route\n                exact\n                path={`/play/:id`}\n                render={() => (\n                  <>\n                    {/* <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    /> */}\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <PlayOutside />\n                    </main>\n                  </>\n                )}\n            />\n              <Route\n                exact\n                path={`/play`}\n                render={() => (\n                  <>\n                    {/* <UpperStripe\n                      //bringOwnUser?? true??\n                      loading={loading}\n                      userApp={false}\n                      ListOfNames={ListOfNames}\n                      ListOfUrls={ListOfUrls}\n                      handleDrawerToggle={handleDrawerToggle}\n                      drawerWidth={drawerWidth}\n                    /> */}\n                    <main className={classes.content}>\n                      <div className={classes.toolbar} />\n                      <Play />\n                    </main>\n                  </>\n                )}\n            />\n            </>\n          )}\n        </UserContext.Provider>\n      </ThemeProvider>\n  );\n}\n\nApp.propTypes = {\n  /**\n   * Injected by the documentation to work in an iframe.\n   * You won't need it on your project.\n   */\n  container: PropTypes.instanceOf(\n    typeof Element === \"undefined\" ? Object : Element\n  )\n};\n\n\nfunction AppWrap() {\n  return (\n    <Router>\n      <Route component={props2 => <App {...props2} />} />\n    </Router>\n  );\n}\n\nexport default AppWrap;\n"]},"metadata":{},"sourceType":"module"}