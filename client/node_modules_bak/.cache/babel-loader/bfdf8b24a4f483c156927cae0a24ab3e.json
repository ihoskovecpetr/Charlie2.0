{"ast":null,"code":"import _taggedTemplateLiteral from \"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";\nvar _jsxFileName = \"/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Pages/UserModal.js\";\n\nfunction _templateObject() {\n  const data = _taggedTemplateLiteral([\"\\n  query getOneUser($user_id: ID!) {\\n    getOneUser(user_id: $user_id) {\\n      success\\n      _id\\n      name\\n      picture\\n      email\\n      description\\n      createdEvents{\\n        _id\\n      \\tname\\n      }\\n    }\\n  }\\n\"]);\n\n  _templateObject = function () {\n    return data;\n  };\n\n  return data;\n}\n\nimport React from \"react\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport { withRouter, useHistory } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\nimport { USER_RATINGS } from \"src/Services/GQL/USER_RATINGS\";\nimport ModalLayout from \"../Layouts/ModalLayout\";\nimport RatingCard from \"../Molecules/rating-card\";\nimport RatingCardNew from \"src/Atoms/Profile/RatingCardNew\";\nimport Spinner from \"../Atoms/Spinner\";\nimport Copyright from \"../Atoms/copyright\";\nimport AverageRatingStars from \"src/Atoms/AverageRatingStars\";\nconst GET_USER = gql(_templateObject());\n\nfunction UserModal(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  let history = useHistory();\n\n  const _useQuery = useQuery(GET_USER, {\n    variables: {\n      user_id: props.match.params.id // limit: 2 \n\n    } //skip: !id,\n    //pollInterval: 500\n\n  }),\n        loading = _useQuery.loading,\n        error = _useQuery.error,\n        data = _useQuery.data,\n        refetch = _useQuery.refetch;\n\n  const ratingStates = useQuery(USER_RATINGS, {\n    variables: {\n      host_id: props.match.params.id\n    }\n  }); // const ratingStates ={\n  //   data: {\n  //     showRatings: [\n  //   {\n  //     guest: {\n  //       picture: \"https://scontent-prg1-1.xx.fbcdn.net/v/t1.0-9/61950201_2397914480420841_8357957627317059584_n.jpg?_nc_cat=108&_nc_oc=AQnV7_8s9Q3H0-hAymHvaGXLt-97aDdy46ODFVxEtKOsUJ_LaKdLA7KV-8HQqKodG40&_nc_ht=scontent-prg1-1.xx&oh=43eb25b5ccd547e3e0ebc377dd31adb0&oe=5E87BF91\",\n  //       name: \"Rater Ivo\"\n  //     },\n  //     message: \"Cool event bro\",\n  //     ratingValue: 5,\n  //     createdAt: \"2019\"\n  //   }\n  // ]\n  //   }\n  // }\n\n  console.log(\"RENDERING USER MODAL\");\n  let dataDB;\n\n  const PaperUser = props => {\n    return React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      className: classes.paperUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }, props.children);\n  }; // if (bookingStates.loading) {\n  //   return <>Creating Booking</>;\n  // }\n  // if (bookingStates.data) {\n  //   refetch();\n  // }\n\n\n  if (data) {\n    dataDB = data;\n  }\n\n  if (loading) {\n    return React.createElement(ModalLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, React.createElement(PaperUser, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }, React.createElement(Spinner, {\n      height: 50,\n      width: 50,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101\n      },\n      __self: this\n    })));\n  } // if (error) {\n  //   return (\n  //     <BaseAndPaper>\n  //       <p>Error...</p>\n  //     </BaseAndPaper>\n  //   );\n  // }\n\n\n  console.log(\"DATA EVENT jsou tady: \", dataDB);\n\n  if (dataDB && dataDB.getOneUser.success) {\n    return React.createElement(ModalLayout, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 118\n      },\n      __self: this\n    }, React.createElement(PaperUser, {\n      className: classes.paper,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      alignContent: \"center\",\n      className: classes.mainGrid,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 127\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 128\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Avatar, {\n      className: classes.avatarMain,\n      src: dataDB.getOneUser.picture,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }, React.createElement(LockOutlinedIcon, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }))))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"h4\",\n      className: classes.nameHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, dataDB.getOneUser.name)), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle1\",\n      className: classes.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, dataDB.getOneUser.email)), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      container: true,\n      justify: \"center\",\n      alignItems: \"center\",\n      spacing: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      item: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle1\",\n      className: classes.email,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(AverageRatingStars, {\n      userId: dataDB.getOneUser._id,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }))))), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle1\",\n      className: classes.description,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, dataDB.getOneUser.description)), React.createElement(Grid, {\n      item: true,\n      xs: 12,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(Typography, {\n      variant: \"subtitle1\",\n      className: classes.subHeader,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"RATINGS\")), ratingStates.loading && React.createElement(Spinner, {\n      height: 100,\n      width: 100,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170\n      },\n      __self: this\n    }), ratingStates.data && ratingStates.data.showRatings && ratingStates.data.showRatings.map((rating, index) => React.createElement(RatingCardNew, {\n      rating: rating,\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 174\n      },\n      __self: this\n    })))), React.createElement(Box, {\n      mt: 8,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, React.createElement(Copyright, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    })));\n  }\n\n  return React.createElement(ModalLayout, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186\n    },\n    __self: this\n  }, React.createElement(PaperUser, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187\n    },\n    __self: this\n  }, \"No DATA\"));\n}\n\nconst useStyles = makeStyles(theme => ({\n  opaque: {\n    // flexGrow: 1,\n    background: \"rgba(100,10,10,0.2)\",\n    width: \"100%\",\n    position: \"absolute\",\n    \"z-index\": 10\n  },\n  mainGrid: {\n    width: \"100%\"\n  },\n  paperUser: {\n    // background: \"#600328\",\n    background: \"linear-gradient(90deg, #E8045D 0%, #76517B 100%)\",\n    color: \"white\",\n    marginTop: \"10vh\",\n    padding: theme.spacing(3, 2),\n    height: \"80vh\",\n    overflow: \"scroll\",\n    borderBottomRightRadius: 0,\n    borderBottomLeftRadius: 0\n  },\n  avatarMain: {\n    height: 120,\n    width: 120,\n    margin: 10,\n    border: \"2px solid white\",\n    boxShadow: \"4px 3px 5px 0px rgba(0,0,0,0.5)\",\n    backgroundColor: theme.palette.secondary.main\n  },\n  nameHeader: {\n    textAlign: \"center\"\n  },\n  email: {\n    textAlign: \"center\"\n  },\n  ratingContainer: {\n    width: \"100%\",\n    maxHeight: 200,\n    overflow: \"scroll\"\n  },\n  eventButtons: {\n    position: \"absolute\",\n    bottom: 0\n  },\n  subHeader: {\n    fontWeight: 600,\n    margin: 15\n  }\n}));\nexport default withRouter(UserModal);","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Pages/UserModal.js"],"names":["React","makeStyles","useTheme","Button","Grid","Paper","Typography","Box","Avatar","CloseIcon","LockOutlinedIcon","Rating","withRouter","useHistory","useQuery","gql","USER_RATINGS","ModalLayout","RatingCard","RatingCardNew","Spinner","Copyright","AverageRatingStars","GET_USER","UserModal","props","classes","useStyles","theme","history","variables","user_id","match","params","id","loading","error","data","refetch","ratingStates","host_id","console","log","dataDB","PaperUser","paperUser","children","getOneUser","success","paper","mainGrid","avatarMain","picture","nameHeader","name","email","_id","description","subHeader","showRatings","map","rating","index","opaque","background","width","position","color","marginTop","padding","spacing","height","overflow","borderBottomRightRadius","borderBottomLeftRadius","margin","border","boxShadow","backgroundColor","palette","secondary","main","textAlign","ratingContainer","maxHeight","eventButtons","bottom","fontWeight"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Box from \"@material-ui/core/Box\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport LockOutlinedIcon from \"@material-ui/icons/LockOutlined\";\nimport Rating from \"@material-ui/lab/Rating\";\n\nimport { withRouter, useHistory } from \"react-router-dom\";\nimport { useQuery } from \"@apollo/react-hooks\";\nimport gql from \"graphql-tag\";\n\nimport { USER_RATINGS } from \"src/Services/GQL/USER_RATINGS\";\n\nimport ModalLayout from \"../Layouts/ModalLayout\";\nimport RatingCard from \"../Molecules/rating-card\";\nimport RatingCardNew from \"src/Atoms/Profile/RatingCardNew\";\nimport Spinner from \"../Atoms/Spinner\";\nimport Copyright from \"../Atoms/copyright\";\nimport AverageRatingStars from \"src/Atoms/AverageRatingStars\";\n\nconst GET_USER = gql`\n  query getOneUser($user_id: ID!) {\n    getOneUser(user_id: $user_id) {\n      success\n      _id\n      name\n      picture\n      email\n      description\n      createdEvents{\n        _id\n      \tname\n      }\n    }\n  }\n`;\n\n\nfunction UserModal(props) {\n  const classes = useStyles();\n  const theme = useTheme();\n  let history = useHistory();\n  const { loading, error, data, refetch } = useQuery(GET_USER, {\n    variables: {  user_id: props.match.params.id,\n                  // limit: 2 \n                }\n    //skip: !id,\n    //pollInterval: 500\n  });\n\n  const ratingStates = useQuery(USER_RATINGS, {\n    variables: { host_id: props.match.params.id }\n  });\n\n  // const ratingStates ={\n  //   data: {\n  //     showRatings: [\n  //   {\n  //     guest: {\n  //       picture: \"https://scontent-prg1-1.xx.fbcdn.net/v/t1.0-9/61950201_2397914480420841_8357957627317059584_n.jpg?_nc_cat=108&_nc_oc=AQnV7_8s9Q3H0-hAymHvaGXLt-97aDdy46ODFVxEtKOsUJ_LaKdLA7KV-8HQqKodG40&_nc_ht=scontent-prg1-1.xx&oh=43eb25b5ccd547e3e0ebc377dd31adb0&oe=5E87BF91\",\n  //       name: \"Rater Ivo\"\n  //     },\n  //     message: \"Cool event bro\",\n  //     ratingValue: 5,\n  //     createdAt: \"2019\"\n  //   }\n  // ]\n  //   }\n  // }\n  console.log(\"RENDERING USER MODAL\");\n\n  let dataDB;\n\n  const PaperUser = props => {\n    return <Grid container justify=\"center\" className={classes.paperUser}>\n              {props.children}\n          </Grid>;\n  };\n\n  // if (bookingStates.loading) {\n  //   return <>Creating Booking</>;\n  // }\n\n  // if (bookingStates.data) {\n  //   refetch();\n  // }\n\n  if (data) {\n    dataDB = data;\n  }\n\n  if (loading) {\n    return (\n      <ModalLayout>\n        <PaperUser>\n          <Spinner height={50} width={50} />\n        </PaperUser>\n      </ModalLayout>\n    );\n  }\n  // if (error) {\n  //   return (\n  //     <BaseAndPaper>\n  //       <p>Error...</p>\n  //     </BaseAndPaper>\n  //   );\n  // }\n\n  console.log(\"DATA EVENT jsou tady: \", dataDB);\n\n  if (dataDB && dataDB.getOneUser.success) {\n    return (\n      <ModalLayout>\n        <PaperUser className={classes.paper}>\n          <Grid\n            container\n            justify=\"center\"\n            alignItems=\"center\"\n            alignContent=\"center\"\n            className={classes.mainGrid}\n          >\n            <Grid item xs={12}>\n              <Grid container justify=\"center\">\n                <Grid item>\n                  <Avatar\n                    className={classes.avatarMain}\n                    src={dataDB.getOneUser.picture}\n                  >\n                    <LockOutlinedIcon />\n                  </Avatar>\n                </Grid>\n              </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"h4\" className={classes.nameHeader}>\n                {dataDB.getOneUser.name}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle1\" className={classes.email}>\n                {dataDB.getOneUser.email}\n              </Typography>\n            </Grid>\n            <Grid item xs={12}>\n            <Grid container justify=\"center\" alignItems=\"center\" spacing={2}>\n            <Grid item>\n              <Typography variant=\"subtitle1\" className={classes.email}>\n                  <AverageRatingStars userId={dataDB.getOneUser._id}/>\n              </Typography>\n            </Grid>\n            </Grid>\n            </Grid>\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle1\" className={classes.description}>\n                {dataDB.getOneUser.description}\n              </Typography>\n            </Grid>\n\n            <Grid item xs={12}>\n              <Typography variant=\"subtitle1\" className={classes.subHeader}>\n                RATINGS\n              </Typography>\n            </Grid>\n\n            {ratingStates.loading && <Spinner height={100} width={100} />}\n            {ratingStates.data &&\n              ratingStates.data.showRatings &&\n              ratingStates.data.showRatings.map((rating, index) => (\n                <RatingCardNew rating={rating} key={index} />\n              ))}\n          </Grid>\n        </PaperUser>\n        <Box mt={8}>\n          <Copyright />\n        </Box>\n      </ModalLayout>\n    );\n  }\n\n  return (\n    <ModalLayout>\n      <PaperUser>\n        No DATA\n      </PaperUser>\n    </ModalLayout>\n  );\n}\n\nconst useStyles = makeStyles(theme => ({\n  opaque: {\n    // flexGrow: 1,\n    background: \"rgba(100,10,10,0.2)\",\n    width: \"100%\",\n    position: \"absolute\",\n    \"z-index\": 10\n  },\n  mainGrid: {\n    width: \"100%\"\n  },\n  paperUser: {\n    // background: \"#600328\",\n    background:\n    \"linear-gradient(90deg, #E8045D 0%, #76517B 100%)\",\n    color: \"white\",\n    marginTop: \"10vh\",\n    padding: theme.spacing(3, 2),\n    height: \"80vh\",\n    overflow: \"scroll\",\n    borderBottomRightRadius: 0,\n    borderBottomLeftRadius: 0\n  },\n  avatarMain: {\n    height: 120,\n    width: 120,\n    margin: 10,\n    border: \"2px solid white\",\n    boxShadow: \"4px 3px 5px 0px rgba(0,0,0,0.5)\",\n    backgroundColor: theme.palette.secondary.main\n  },\n  nameHeader: {\n    textAlign: \"center\"\n  },\n  email: {\n    textAlign: \"center\"\n  },\n  ratingContainer: {\n    width: \"100%\",\n    maxHeight: 200,\n    overflow: \"scroll\"\n  },\n  eventButtons: {\n    position: \"absolute\",\n    bottom: 0\n  },\n  subHeader:{\n    fontWeight: 600,\n    margin: 15\n  }\n}));\n\nexport default withRouter(UserModal);\n"]},"metadata":{},"sourceType":"module"}