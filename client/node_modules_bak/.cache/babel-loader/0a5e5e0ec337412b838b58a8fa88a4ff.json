{"ast":null,"code":"import React,{useEffect,useRef}from\"react\";import{GeolocationMarker}from'geolocation-marker';var scriptAdded=false;function Map(_ref){var options=_ref.options,onMount=_ref.onMount,className=_ref.className,styling=_ref.styling;var ref=useRef();console.log(\"Map Atom rerender\");useEffect(function(){var onLoad=function onLoad(){if(typeof onMount===\"function\"&&window.google){//const map = new window.google.maps.Map(ref.current, options);\nvar map=new window.google.maps.Map(//document.getElementById(\"map-create\"),\nref.current,options);console.log(\"Looking or geolocmarker\");onMount(map);}};if(!window.google&&!scriptAdded){scriptAdded=true;var script=document.createElement(\"script\");script.type=\"text/javascript\";script.src=\"https://maps.googleapis.com/maps/api/js?key=\".concat(process.env.REACT_APP_GOOGLE_MAPS_API_KEY,\"&libraries=geometry,places\");var headScript=document.getElementsByTagName(\"script\")[0];headScript.parentNode.insertBefore(script,headScript);script.addEventListener(\"load\",onLoad);return function(){return script.removeEventListener(\"load\",onLoad);};}else onLoad();},[onMount,options]);return React.createElement(\"div\",Object.assign({style:styling},{ref:ref,className:className}));}// Map.defaultProps = {\n//   options: {\n//     center: { lat: 50, lng: 15 },\n//     zoom: 5\n//   }\n// };\nexport default React.memo(Map);","map":{"version":3,"sources":["/Users/petrhoskovec/Desktop/code/Charlie2.0/client/src/Atoms/MapAtom.js"],"names":["React","useEffect","useRef","GeolocationMarker","scriptAdded","Map","options","onMount","className","styling","ref","console","log","onLoad","window","google","map","maps","current","script","document","createElement","type","src","process","env","REACT_APP_GOOGLE_MAPS_API_KEY","headScript","getElementsByTagName","parentNode","insertBefore","addEventListener","removeEventListener","memo"],"mappings":"AAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,MAA3B,KAAyC,OAAzC,CACA,OAASC,iBAAT,KAAkC,oBAAlC,CAEA,GAAIC,CAAAA,WAAW,CAAG,KAAlB,CACA,QAASC,CAAAA,GAAT,MAAuD,IAAxCC,CAAAA,OAAwC,MAAxCA,OAAwC,CAA/BC,OAA+B,MAA/BA,OAA+B,CAAtBC,SAAsB,MAAtBA,SAAsB,CAAXC,OAAW,MAAXA,OAAW,CACrD,GAAMC,CAAAA,GAAG,CAAGR,MAAM,EAAlB,CACAS,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAEAX,SAAS,CAAC,UAAM,CACd,GAAMY,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,EAAM,CACnB,GAAI,MAAON,CAAAA,OAAP,eAAiCO,MAAM,CAACC,MAA5C,CAAoD,CAClD;AACA,GAAMC,CAAAA,GAAG,CAAG,GAAIF,CAAAA,MAAM,CAACC,MAAP,CAAcE,IAAd,CAAmBZ,GAAvB,CACV;AACAK,GAAG,CAACQ,OAFM,CAGVZ,OAHU,CAAZ,CAKAK,OAAO,CAACC,GAAR,CAAY,yBAAZ,EAEAL,OAAO,CAACS,GAAD,CAAP,CACD,CACF,CAZD,CAcA,GAAI,CAACF,MAAM,CAACC,MAAR,EAAkB,CAACX,WAAvB,CAAoC,CAClCA,WAAW,CAAG,IAAd,CACA,GAAMe,CAAAA,MAAM,CAAGC,QAAQ,CAACC,aAAT,UAAf,CACAF,MAAM,CAACG,IAAP,mBACAH,MAAM,CAACI,GAAP,uDAA4DC,OAAO,CAACC,GAAR,CAAYC,6BAAxE,+BAEA,GAAMC,CAAAA,UAAU,CAAGP,QAAQ,CAACQ,oBAAT,WAAwC,CAAxC,CAAnB,CACAD,UAAU,CAACE,UAAX,CAAsBC,YAAtB,CAAmCX,MAAnC,CAA2CQ,UAA3C,EACAR,MAAM,CAACY,gBAAP,QAAgClB,MAAhC,EACA,MAAO,WAAM,CACX,MAAOM,CAAAA,MAAM,CAACa,mBAAP,QAAmCnB,MAAnC,CAAP,CACD,CAFD,CAGD,CAZD,IAYOA,CAAAA,MAAM,GACd,CA5BQ,CA4BN,CAACN,OAAD,CAAUD,OAAV,CA5BM,CAAT,CA8BA,MACE,0CACC,KAAK,CAAEG,OADR,EAEM,CAAEC,GAAG,CAAHA,GAAF,CAAOF,SAAS,CAATA,SAAP,CAFN,EADF,CAMD,CAED;AACA;AACA;AACA;AACA;AACA;AAEA,cAAeR,CAAAA,KAAK,CAACiC,IAAN,CAAW5B,GAAX,CAAf","sourcesContent":["import React, { useEffect, useRef } from \"react\";\nimport { GeolocationMarker } from 'geolocation-marker'\n\nlet scriptAdded = false;\nfunction Map({ options, onMount, className, styling }) {\n  const ref = useRef();\n  console.log(\"Map Atom rerender\")\n\n  useEffect(() => {\n    const onLoad = () => {\n      if (typeof onMount === `function` && window.google) {\n        //const map = new window.google.maps.Map(ref.current, options);\n        const map = new window.google.maps.Map(\n          //document.getElementById(\"map-create\"),\n          ref.current,\n          options\n        );\n        console.log(\"Looking or geolocmarker\")\n\n        onMount(map);\n      }\n    };\n\n    if (!window.google && !scriptAdded) {\n      scriptAdded = true;\n      const script = document.createElement(`script`);\n      script.type = `text/javascript`;\n      script.src = `https://maps.googleapis.com/maps/api/js?key=${process.env.REACT_APP_GOOGLE_MAPS_API_KEY}&libraries=geometry,places`;\n\n      const headScript = document.getElementsByTagName(`script`)[0];\n      headScript.parentNode.insertBefore(script, headScript);\n      script.addEventListener(`load`, onLoad);\n      return () => {\n        return script.removeEventListener(`load`, onLoad);\n      }\n    } else onLoad();\n  }, [onMount, options]);\n\n  return (\n    <div\n     style={styling}\n      {...{ ref, className }}\n    ></div>\n  );\n}\n\n// Map.defaultProps = {\n//   options: {\n//     center: { lat: 50, lng: 15 },\n//     zoom: 5\n//   }\n// };\n\nexport default React.memo(Map);\n"]},"metadata":{},"sourceType":"module"}